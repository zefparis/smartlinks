INFO:     Will watch for changes in these directories: ['c:\\smartlinks-autopilot']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [14844] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor.py", line 14, in <module>
    from ...ai import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 11, in <module>
    from .supervisor import IASupervisor
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 24, in <module>
    from .openai_integration import OpenAIIntegration
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_integration.py", line 10, in <module>
    import openai
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\openai_factory.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor.py", line 14, in <module>
    from ...ai import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 11, in <module>
    from .supervisor import IASupervisor
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 24, in <module>
    from .openai_integration import OpenAIIntegration
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_integration.py", line 10, in <module>
    import openai
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\supervisor.py'. Reloading...
Process SpawnProcess-3:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor.py", line 14, in <module>
    from ...ai import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 11, in <module>
    from .supervisor import IASupervisor
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 24, in <module>
    from .openai_factory import openai_factory, OpenAIStatus
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_factory.py", line 14, in <module>
    from openai import AsyncOpenAI
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\supervisor.py'. Reloading...
Process SpawnProcess-4:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor.py", line 14, in <module>
    from ...ai import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 11, in <module>
    from .supervisor import IASupervisor
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 24, in <module>
    from .openai_factory import openai_factory, OpenAIStatus
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_factory.py", line 14, in <module>
    from openai import AsyncOpenAI
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\api\endpoints\ia_supervisor_v2.py'. Reloading...
WARNING:  WatchFiles detected changes in 'src\soft\dg\api\endpoints\ia_supervisor_v2.py'. Reloading...
Process SpawnProcess-5:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor.py", line 14, in <module>
    from ...ai import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 11, in <module>
    from .supervisor import IASupervisor
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 24, in <module>
    from .openai_factory import openai_factory, OpenAIStatus
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_factory.py", line 14, in <module>
    from openai import AsyncOpenAI
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\dependencies.py'. Reloading...
Process SpawnProcess-6:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor.py", line 14, in <module>
    from ...ai import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 11, in <module>
    from .supervisor import IASupervisor
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 24, in <module>
    from .openai_factory import openai_factory, OpenAIStatus
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_factory.py", line 14, in <module>
    from openai import AsyncOpenAI
ModuleNotFoundError: No module named 'openai'
Process SpawnProcess-7:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor.py", line 14, in <module>
    from ...ai import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 11, in <module>
    from .supervisor import IASupervisor
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 24, in <module>
    from .openai_factory import openai_factory, OpenAIStatus
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_factory.py", line 14, in <module>
    from openai import AsyncOpenAI
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\dependencies.py'. Reloading...
Process SpawnProcess-8:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor.py", line 14, in <module>
    from ...ai import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 11, in <module>
    from .supervisor import IASupervisor
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 24, in <module>
    from .openai_factory import openai_factory, OpenAIStatus
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_factory.py", line 14, in <module>
    from openai import AsyncOpenAI
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\api\router.py'. Reloading...
Process SpawnProcess-9:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor_v2 import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor_v2.py", line 13, in <module>
    from ...ai.supervisor import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 11, in <module>
    from .supervisor import IASupervisor
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 24, in <module>
    from .openai_factory import openai_factory, OpenAIStatus
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_factory.py", line 14, in <module>
    from openai import AsyncOpenAI
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\api\__init__.py'. Reloading...
Process SpawnProcess-10:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\__init__.py", line 17, in <module>
    from ..dependencies import init_ia_supervisor
  File "c:\smartlinks-autopilot\src\soft\dg\dependencies.py", line 10, in <module>
    from .ai.supervisor import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 11, in <module>
    from .supervisor import IASupervisor
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 24, in <module>
    from .openai_factory import openai_factory, OpenAIStatus
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_factory.py", line 14, in <module>
    from openai import AsyncOpenAI
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\openai_factory.py'. Reloading...
WARNING:root:Module openai non installé. Fonctionnement en mode dégradé.
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
ERROR:src.soft.dg.ai.openai_factory:Erreur initialisation OpenAI: 'NoneType' object is not callable
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_factory.py", line 106, in _initialize_client
    self._client = AsyncOpenAI(**client_kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not callable
Process SpawnProcess-11:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\__init__.py", line 17, in <module>
    from ..dependencies import init_ia_supervisor
  File "c:\smartlinks-autopilot\src\soft\dg\dependencies.py", line 10, in <module>
    from .ai.supervisor import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 12, in <module>
    from .openai_integration import OpenAIIntegration
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_integration.py", line 10, in <module>
    import openai
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\openai_factory.py'. Reloading...
WARNING:root:Module openai non installé. Fonctionnement en mode dégradé.
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
WARNING:src.soft.dg.ai.openai_factory:Module openai non installé. Installez avec: pip install openai>=1.40.0
Process SpawnProcess-12:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\__init__.py", line 17, in <module>
    from ..dependencies import init_ia_supervisor
  File "c:\smartlinks-autopilot\src\soft\dg\dependencies.py", line 10, in <module>
    from .ai.supervisor import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 12, in <module>
    from .openai_integration import OpenAIIntegration
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_integration.py", line 10, in <module>
    import openai
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\openai_factory.py'. Reloading...
WARNING:root:Module openai non installé. Fonctionnement en mode dégradé.
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
WARNING:src.soft.dg.ai.openai_factory:Module openai non installé. Installez avec: pip install openai>=1.40.0
Process SpawnProcess-13:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\__init__.py", line 17, in <module>
    from ..dependencies import init_ia_supervisor
  File "c:\smartlinks-autopilot\src\soft\dg\dependencies.py", line 10, in <module>
    from .ai.supervisor import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 12, in <module>
    from .openai_integration import OpenAIIntegration
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_integration.py", line 10, in <module>
    import openai
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\openai_factory.py'. Reloading...
WARNING:root:Module openai non installé. Fonctionnement en mode dégradé.
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
WARNING:src.soft.dg.ai.openai_factory:Module openai non installé. Installez avec: pip install openai>=1.40.0
Process SpawnProcess-14:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\__init__.py", line 17, in <module>
    from ..dependencies import init_ia_supervisor
  File "c:\smartlinks-autopilot\src\soft\dg\dependencies.py", line 10, in <module>
    from .ai.supervisor import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 12, in <module>
    from .openai_integration import OpenAIIntegration
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_integration.py", line 10, in <module>
    import openai
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\openai_factory.py'. Reloading...
WARNING:root:Module openai non installé. Fonctionnement en mode dégradé.
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
WARNING:src.soft.dg.ai.openai_factory:Module openai non installé. Installez avec: pip install openai>=1.40.0
Process SpawnProcess-15:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\__init__.py", line 17, in <module>
    from ..dependencies import init_ia_supervisor
  File "c:\smartlinks-autopilot\src\soft\dg\dependencies.py", line 10, in <module>
    from .ai.supervisor import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 12, in <module>
    from .openai_integration import OpenAIIntegration
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_integration.py", line 10, in <module>
    import openai
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\openai_factory.py'. Reloading...
WARNING:root:Module openai non installé. Fonctionnement en mode dégradé.
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
WARNING:src.soft.dg.ai.openai_factory:Module openai non installé. Installez avec: pip install openai>=1.40.0
Process SpawnProcess-16:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\__init__.py", line 17, in <module>
    from ..dependencies import init_ia_supervisor
  File "c:\smartlinks-autopilot\src\soft\dg\dependencies.py", line 10, in <module>
    from .ai.supervisor import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 12, in <module>
    from .openai_integration import OpenAIIntegration
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_integration.py", line 10, in <module>
    import openai
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'fix_openai.py'. Reloading...
WARNING:root:Module openai non installé. Fonctionnement en mode dégradé.
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
WARNING:src.soft.dg.ai.openai_factory:Module openai non installé. Installez avec: pip install openai>=1.40.0
Process SpawnProcess-17:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\__init__.py", line 17, in <module>
    from ..dependencies import init_ia_supervisor
  File "c:\smartlinks-autopilot\src\soft\dg\dependencies.py", line 10, in <module>
    from .ai.supervisor import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 12, in <module>
    from .openai_integration import OpenAIIntegration
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_integration.py", line 10, in <module>
    import openai
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in 'install_openai_direct.py'. Reloading...
WARNING:root:Module openai non installé. Fonctionnement en mode dégradé.
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
WARNING:src.soft.dg.ai.openai_factory:Module openai non installé. Installez avec: pip install openai>=1.40.0
Process SpawnProcess-18:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 22, in import_from_string
    raise exc from None
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\__init__.py", line 17, in <module>
    from ..dependencies import init_ia_supervisor
  File "c:\smartlinks-autopilot\src\soft\dg\dependencies.py", line 10, in <module>
    from .ai.supervisor import IASupervisor, OperationMode
  File "c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py", line 12, in <module>
    from .openai_integration import OpenAIIntegration
  File "c:\smartlinks-autopilot\src\soft\dg\ai\openai_integration.py", line 10, in <module>
    import openai
ModuleNotFoundError: No module named 'openai'
WARNING:  WatchFiles detected changes in '.venv\Lib\site-packages\tqdm\notebook.py', '.venv\Lib\site-packages\tqdm\contrib\concurrent.py', '.venv\Lib\site-packages\tqdm\dask.py', '.venv\Lib\site-packages\tqdm\gui.py', '.venv\Lib\site-packages\tqdm\keras.py', '.venv\Lib\site-packages\tqdm\contrib\logging.py', '.venv\Lib\site-packages\tqdm\contrib\discord.py', '.venv\Lib\site-packages\tqdm\_tqdm_gui.py', '.venv\Lib\site-packages\tqdm\auto.py', '.venv\Lib\site-packages\tqdm\version.py', '.venv\Lib\site-packages\tqdm\_tqdm.py', '.venv\Lib\site-packages\tqdm\utils.py', '.venv\Lib\site-packages\tqdm\contrib\bells.py', '.venv\Lib\site-packages\tqdm\contrib\itertools.py', '.venv\Lib\site-packages\tqdm\_main.py', '.venv\Lib\site-packages\tqdm\std.py', '.venv\Lib\site-packages\tqdm\contrib\utils_worker.py', '.venv\Lib\site-packages\tqdm\asyncio.py', '.venv\Lib\site-packages\tqdm\tk.py', '.venv\Lib\site-packages\tqdm\rich.py', '.venv\Lib\site-packages\tqdm\_tqdm_notebook.py', '.venv\Lib\site-packages\tqdm\contrib\__init__.py', '.venv\Lib\site-packages\tqdm\_dist_ver.py', '.venv\Lib\site-packages\tqdm\contrib\telegram.py', '.venv\Lib\site-packages\tqdm\__main__.py', '.venv\Lib\site-packages\tqdm\autonotebook.py', '.venv\Lib\site-packages\tqdm\_tqdm_pandas.py', '.venv\Lib\site-packages\tqdm\_utils.py', '.venv\Lib\site-packages\tqdm\cli.py', '.venv\Lib\site-packages\tqdm\_monitor.py', '.venv\Lib\site-packages\tqdm\contrib\slack.py', '.venv\Lib\site-packages\tqdm\__init__.py'. Reloading...
WARNING:  WatchFiles detected changes in '.venv\Lib\site-packages\distro\__init__.py', '.venv\Lib\site-packages\distro\__main__.py', '.venv\Lib\site-packages\distro\distro.py', '.venv\Lib\site-packages\jiter\__init__.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
Process SpawnProcess-19:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor_v2 import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor_v2.py", line 340, in <module>
    @router.get("/logs", response_model=List[Dict[str, Any]], summary="Récupérer les logs d'interaction")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 963, in decorator
    self.add_api_route(
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 902, in add_api_route
    route = route_class(
            ^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 532, in __init__
    self.dependant = get_dependant(path=self.path_format, call=self.endpoint)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 289, in get_dependant
    add_param_to_fields(field=param_field, dependant=dependant)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 486, in add_param_to_fields
    field_info_in == params.ParamTypes.cookie
AssertionError: non-body parameters must be in path, query, header or cookie: limit
WARNING:  WatchFiles detected changes in '.venv\Lib\site-packages\openai\types\chat\chat_completion_developer_message_param.py', '.venv\Lib\site-packages\openai\types\responses\response_function_web_search.py', '.venv\Lib\site-packages\openai\types\upload.py', '.venv\Lib\site-packages\openai\types\beta\file_search_tool.py', '.venv\Lib\site-packages\openai\resources\fine_tuning\checkpoints\__init__.py', '.venv\Lib\site-packages\openai\types\responses\response_file_search_call_in_progress_event.py', '.venv\Lib\site-packages\openai\types\webhooks\eval_run_failed_webhook_event.py', '.venv\Lib\site-packages\openai\types\beta\assistant_create_params.py', '.venv\Lib\site-packages\openai\types\beta\threads\message_content.py', '.venv\Lib\site-packages\openai\types\responses\function_tool_param.py', '.venv\Lib\site-packages\openai\types\responses\response_output_message_param.py', '.venv\Lib\site-packages\openai\types\responses\response_output_item_done_event.py', '.venv\Lib\site-packages\openai\resources\beta\threads\threads.py', '.venv\Lib\site-packages\openai\types\image_generate_params.py', '.venv\Lib\site-packages\openai\types\container_list_response.py', '.venv\Lib\site-packages\openai\types\beta\assistant_response_format_option_param.py', '.venv\Lib\site-packages\openai\types\shared_params\response_format_text.py', '.venv\Lib\site-packages\openai\resources\chat\completions\__init__.py', '.venv\Lib\site-packages\openai\types\fine_tuning\supervised_method_param.py', '.venv\Lib\site-packages\openai\resources\containers\files\files.py', '.venv\Lib\site-packages\openai\types\fine_tuning\jobs\checkpoint_list_params.py', '.venv\Lib\site-packages\openai\lib\_old_api.py', '.venv\Lib\site-packages\openai\_models.py', '.venv\Lib\site-packages\openai\resources\vector_stores\file_batches.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\function_tool_call_delta.py', '.venv\Lib\site-packages\openai\types\webhooks\batch_cancelled_webhook_event.py', '.venv\Lib\site-packages\openai\types\file_list_params.py', '.venv\Lib\site-packages\openai\_extras\pandas_proxy.py', '.venv\Lib\site-packages\openai\types\beta\realtime\realtime_response_status.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_function_call_arguments_done_event.py', '.venv\Lib\site-packages\openai\lib\streaming\chat\_types.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_function_tool_param.py', '.venv\Lib\site-packages\openai\types\responses\response_format_text_config.py', '.venv\Lib\site-packages\openai\types\audio\speech_model.py', '.venv\Lib\site-packages\openai\types\responses\response_create_params.py', '.venv\Lib\site-packages\openai\types\webhooks\__init__.py', '.venv\Lib\site-packages\openai\types\embedding_create_params.py', '.venv\Lib\site-packages\openai\cli\_api\_main.py', '.venv\Lib\site-packages\openai\_utils\_streams.py', '.venv\Lib\site-packages\openai\types\responses\response_file_search_call_searching_event.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_message_custom_tool_call_param.py', '.venv\Lib\site-packages\openai\types\responses\response_code_interpreter_call_code_delta_event.py', '.venv\Lib\site-packages\openai\types\responses\response_stream_event.py', '.venv\Lib\site-packages\openai\cli\_api\completions.py', '.venv\Lib\site-packages\openai\types\responses\response_content_part_added_event.py', '.venv\Lib\site-packages\openai\types\fine_tuning\checkpoints\permission_create_params.py', '.venv\Lib\site-packages\openai\helpers\__init__.py', '.venv\Lib\site-packages\openai\types\responses\response_text_config_param.py', '.venv\Lib\site-packages\openai\types\responses\response_custom_tool_call_param.py', '.venv\Lib\site-packages\openai\types\responses\custom_tool.py', '.venv\Lib\site-packages\openai\resources\beta\beta.py', '.venv\Lib\site-packages\openai\types\completion_choice.py', '.venv\Lib\site-packages\openai\types\chat\__init__.py', '.venv\Lib\site-packages\openai\types\moderation_image_url_input_param.py', '.venv\Lib\site-packages\openai\types\upload_create_params.py', '.venv\Lib\site-packages\openai\lib\streaming\_deltas.py', '.venv\Lib\site-packages\openai\types\completion_create_params.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_content_part_image_param.py', '.venv\Lib\site-packages\openai\types\shared\function_parameters.py', '.venv\Lib\site-packages\openai\types\responses\response_file_search_call_completed_event.py', '.venv\Lib\site-packages\openai\types\shared_params\metadata.py', '.venv\Lib\site-packages\openai\types\webhooks\response_cancelled_webhook_event.py', '.venv\Lib\site-packages\openai\types\file_content.py', '.venv\Lib\site-packages\openai\resources\containers\containers.py', '.venv\Lib\site-packages\openai\resources\audio\audio.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\__init__.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_message.py', '.venv\Lib\site-packages\openai\types\fine_tuning\alpha\grader_validate_params.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_delete_event.py', '.venv\Lib\site-packages\openai\resources\fine_tuning\alpha\__init__.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_created_event.py', '.venv\Lib\site-packages\openai\types\audio_model.py', '.venv\Lib\site-packages\openai\types\beta\realtime\transcription_session_updated_event.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_role.py', '.venv\Lib\site-packages\openai\types\responses\response_reasoning_item_param.py', '.venv\Lib\site-packages\openai\types\responses\computer_tool_param.py', '.venv\Lib\site-packages\openai\types\file_deleted.py', '.venv\Lib\site-packages\openai\types\beta\threads\message_list_params.py', '.venv\Lib\site-packages\openai\types\graders\text_similarity_grader_param.py', '.venv\Lib\site-packages\openai\types\vector_stores\file_batch_create_params.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_create_event_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\file_path_delta_annotation.py', '.venv\Lib\site-packages\openai\resources\audio\transcriptions.py', '.venv\Lib\site-packages\openai\types\beta\realtime\transcription_session.py', '.venv\Lib\site-packages\openai\lib\streaming\responses\__init__.py', '.venv\Lib\site-packages\openai\types\beta\realtime\input_audio_buffer_commit_event_param.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_tool_message_param.py', '.venv\Lib\site-packages\openai\types\responses\response_failed_event.py', '.venv\Lib\site-packages\openai\types\shared\error_object.py', '.venv\Lib\site-packages\openai\resources\beta\threads\runs\steps.py', '.venv\Lib\site-packages\openai\types\vector_stores\__init__.py', '.venv\Lib\site-packages\openai\types\audio\transcription_stream_event.py', '.venv\Lib\site-packages\openai\types\shared\reasoning.py', '.venv\Lib\site-packages\openai\types\responses\response_reasoning_summary_text_delta_event.py', '.venv\Lib\site-packages\openai\types\audio\translation.py', '.venv\Lib\site-packages\openai\types\chat\parsed_function_tool_call.py', '.venv\Lib\site-packages\openai\types\responses\response_function_call_arguments_delta_event.py', '.venv\Lib\site-packages\openai\types\responses\response_incomplete_event.py', '.venv\Lib\site-packages\openai\resources\beta\threads\messages.py', '.venv\Lib\site-packages\openai\types\audio\transcription_segment.py', '.venv\Lib\site-packages\openai\types\create_embedding_response.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\run_step_delta.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_reasoning_effort.py', '.venv\Lib\site-packages\openai\resources\beta\assistants.py', '.venv\Lib\site-packages\openai\types\responses\response_web_search_call_in_progress_event.py', '.venv\Lib\site-packages\openai\types\responses\tool_choice_allowed.py', '.venv\Lib\site-packages\openai\types\beta\realtime\rate_limits_updated_event.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_content_part_input_audio_param.py', '.venv\Lib\site-packages\openai\types\vector_store_search_response.py', '.venv\Lib\site-packages\openai\resources\models.py', '.venv\Lib\site-packages\openai\types\file_object.py', '.venv\Lib\site-packages\openai\types\responses\response_mcp_call_arguments_delta_event.py', '.venv\Lib\site-packages\openai\types\responses\response_code_interpreter_tool_call_param.py', '.venv\Lib\site-packages\openai\types\vector_store_list_params.py', '.venv\Lib\site-packages\openai\types\responses\response_code_interpreter_call_in_progress_event.py', '.venv\Lib\site-packages\openai\types\beta\threads\message_content_part_param.py', '.venv\Lib\site-packages\openai\types\responses\response_prompt_param.py', '.venv\Lib\site-packages\openai\types\responses\response_input_content.py', '.venv\Lib\site-packages\openai\types\beta\realtime\realtime_response.py', '.venv\Lib\site-packages\openai\types\responses\response.py', '.venv\Lib\site-packages\openai\types\chat\completions\__init__.py', '.venv\Lib\site-packages\openai\types\responses\response_audio_done_event.py', '.venv\Lib\site-packages\openai\types\eval_retrieve_response.py', '.venv\Lib\site-packages\openai\lib\streaming\responses\_types.py', '.venv\Lib\site-packages\openai\types\responses\tool_choice_custom.py', '.venv\Lib\site-packages\openai\resources\batches.py', '.venv\Lib\site-packages\openai\types\responses\tool_param.py', '.venv\Lib\site-packages\openai\_extras\_common.py', '.venv\Lib\site-packages\openai\types\shared\chat_model.py', '.venv\Lib\site-packages\openai\types\graders\python_grader_param.py', '.venv\Lib\site-packages\openai\types\__init__.py', '.venv\Lib\site-packages\openai\types\beta\assistant_tool_param.py', '.venv\Lib\site-packages\openai\types\chat\completion_update_params.py', '.venv\Lib\site-packages\openai\_utils\_sync.py', '.venv\Lib\site-packages\openai\types\moderation.py', '.venv\Lib\site-packages\openai\types\graders\string_check_grader_param.py', '.venv\Lib\site-packages\openai\types\graders\label_model_grader.py', '.venv\Lib\site-packages\openai\lib\streaming\_assistants.py', '.venv\Lib\site-packages\openai\types\graders\string_check_grader.py', '.venv\Lib\site-packages\openai\helpers\local_audio_player.py', '.venv\Lib\site-packages\openai\types\shared_params\__init__.py', '.venv\Lib\site-packages\openai\types\evals\run_delete_response.py', '.venv\Lib\site-packages\openai\types\beta\realtime\session_update_event.py', '.venv\Lib\site-packages\openai\types\responses\response_web_search_call_completed_event.py', '.venv\Lib\site-packages\openai\types\eval_custom_data_source_config.py', '.venv\Lib\site-packages\openai\types\image.py', '.venv\Lib\site-packages\openai\types\websocket_connection_options.py', '.venv\Lib\site-packages\openai\types\embedding_model.py', '.venv\Lib\site-packages\openai\types\responses\web_search_tool_param.py', '.venv\Lib\site-packages\openai\_streaming.py', '.venv\Lib\site-packages\openai\resources\containers\files\__init__.py', '.venv\Lib\site-packages\openai\types\beta\thread_create_and_run_params.py', '.venv\Lib\site-packages\openai\types\beta\realtime\transcription_session_update_param.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_retrieve_event.py', '.venv\Lib\site-packages\openai\types\evals\create_eval_completions_run_data_source_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\file_search_tool_call_delta.py', '.venv\Lib\site-packages\openai\types\responses\response_custom_tool_call_output.py', '.venv\Lib\site-packages\openai\types\fine_tuning\fine_tuning_job.py', '.venv\Lib\site-packages\openai\types\vector_stores\vector_store_file.py', '.venv\Lib\site-packages\openai\types\responses\response_web_search_call_searching_event.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_message_param.py', '.venv\Lib\site-packages\openai\cli\_api\files.py', '.venv\Lib\site-packages\openai\types\beta\threads\text_content_block.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_chunk.py', '.venv\Lib\site-packages\openai\types\beta\threads\text.py', '.venv\Lib\site-packages\openai\types\responses\response_completed_event.py', '.venv\Lib\site-packages\openai\types\graders\multi_grader_param.py', '.venv\Lib\site-packages\openai\resources\uploads\parts.py', '.venv\Lib\site-packages\openai\resources\fine_tuning\jobs\__init__.py', '.venv\Lib\site-packages\openai\types\responses\response_output_item.py', '.venv\Lib\site-packages\openai\types\shared\response_format_json_object.py', '.venv\Lib\site-packages\openai\types\audio\transcription_verbose.py', '.venv\Lib\site-packages\openai\types\responses\response_mcp_list_tools_failed_event.py', '.venv\Lib\site-packages\openai\types\responses\response_usage.py', '.venv\Lib\site-packages\openai\types\graders\score_model_grader.py', '.venv\Lib\site-packages\openai\types\container_create_response.py', '.venv\Lib\site-packages\openai\types\responses\response_text_done_event.py', '.venv\Lib\site-packages\openai\types\responses\response_function_tool_call_param.py', '.venv\Lib\site-packages\openai\_extras\sounddevice_proxy.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_created_event.py', '.venv\Lib\site-packages\openai\types\responses\response_input_param.py', '.venv\Lib\site-packages\openai\types\beta\realtime\transcription_session_create_params.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_content_part_done_event.py', '.venv\Lib\site-packages\openai\_utils\__init__.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_message_custom_tool_call.py', '.venv\Lib\site-packages\openai\cli\_models.py', '.venv\Lib\site-packages\openai\types\responses\response_input_text.py', '.venv\Lib\site-packages\openai\types\responses\response_error.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_named_tool_choice_param.py', '.venv\Lib\site-packages\openai\types\model.py', '.venv\Lib\site-packages\openai\types\fine_tuning\dpo_hyperparameters_param.py', '.venv\Lib\site-packages\openai\types\evals\__init__.py', '.venv\Lib\site-packages\openai\types\fine_tuning\checkpoints\permission_retrieve_response.py', '.venv\Lib\site-packages\openai\types\responses\tool_choice_types.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_content_part_added_event.py', '.venv\Lib\site-packages\openai\resources\__init__.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\code_interpreter_logs.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_token_logprob.py', '.venv\Lib\site-packages\openai\types\fine_tuning\dpo_method_param.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_content_part_param.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_tool_param.py', '.venv\Lib\site-packages\openai\types\responses\response_reasoning_item.py', '.venv\Lib\site-packages\openai\lib\_parsing\_completions.py', '.venv\Lib\site-packages\openai\resources\fine_tuning\alpha\alpha.py', '.venv\Lib\site-packages\openai\types\shared\response_format_text_python.py', '.venv\Lib\site-packages\openai\types\responses\__init__.py', '.venv\Lib\site-packages\openai\resources\chat\completions\completions.py', '.venv\Lib\site-packages\openai\types\static_file_chunking_strategy_object.py', '.venv\Lib\site-packages\openai\types\responses\response_output_text_param.py', '.venv\Lib\site-packages\openai\types\beta\code_interpreter_tool.py', '.venv\Lib\site-packages\openai\types\beta\assistant_tool_choice_param.py', '.venv\Lib\site-packages\openai\types\beta\assistant_tool.py', '.venv\Lib\site-packages\openai\lib\_parsing\__init__.py', '.venv\Lib\site-packages\openai\types\containers\file_create_params.py', '.venv\Lib\site-packages\openai\types\file_purpose.py', '.venv\Lib\site-packages\openai\lib\streaming\responses\_events.py', '.venv\Lib\site-packages\openai\types\chat\completions\message_list_params.py', '.venv\Lib\site-packages\openai\resources\evals\runs\__init__.py', '.venv\Lib\site-packages\openai\types\responses\response_prompt.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_url_delta.py', '.venv\Lib\site-packages\openai\types\beta\threads\refusal_delta_block.py', '.venv\Lib\site-packages\openai\__main__.py', '.venv\Lib\site-packages\openai\types\evals\runs\output_item_list_params.py', '.venv\Lib\site-packages\openai\types\responses\response_error_event.py', '.venv\Lib\site-packages\openai\types\beta\threads\message.py', '.venv\Lib\site-packages\openai\types\beta\threads\text_delta_block.py', '.venv\Lib\site-packages\openai\_client.py', '.venv\Lib\site-packages\openai\_utils\_transform.py', '.venv\Lib\site-packages\openai\types\responses\response_mcp_list_tools_completed_event.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_create_event.py', '.venv\Lib\site-packages\openai\types\shared_params\response_format_json_schema.py', '.venv\Lib\site-packages\openai\resources\chat\completions\messages.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_function_call_arguments_delta_event.py', '.venv\Lib\site-packages\openai\types\responses\response_reasoning_summary_text_done_event.py', '.venv\Lib\site-packages\openai\resources\beta\__init__.py', '.venv\Lib\site-packages\openai\types\webhooks\fine_tuning_job_failed_webhook_event.py', '.venv\Lib\site-packages\openai\helpers\microphone.py', '.venv\Lib\site-packages\openai\types\audio_response_format.py', '.venv\Lib\site-packages\openai\types\responses\function_tool.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_content_part_refusal_param.py', '.venv\Lib\site-packages\openai\types\responses\response_reasoning_text_done_event.py', '.venv\Lib\site-packages\openai\resources\fine_tuning\jobs\checkpoints.py', '.venv\Lib\site-packages\openai\_compat.py', '.venv\Lib\site-packages\openai\resources\fine_tuning\fine_tuning.py', '.venv\Lib\site-packages\openai\types\audio\transcription_text_delta_event.py', '.venv\Lib\site-packages\openai\types\beta\thread.py', '.venv\Lib\site-packages\openai\types\graders\score_model_grader_param.py', '.venv\Lib\site-packages\openai\types\webhooks\batch_completed_webhook_event.py', '.venv\Lib\site-packages\openai\types\responses\response_computer_tool_call_output_screenshot.py', '.venv\Lib\site-packages\openai\resources\responses\input_items.py', '.venv\Lib\site-packages\openai\types\shared_params\custom_tool_input_format.py', '.venv\Lib\site-packages\openai\types\fine_tuning\checkpoints\permission_delete_response.py', '.venv\Lib\site-packages\openai\types\static_file_chunking_strategy_param.py', '.venv\Lib\site-packages\openai\types\shared_params\comparison_filter.py', '.venv\Lib\site-packages\openai\types\responses\response_format_text_json_schema_config_param.py', '.venv\Lib\site-packages\openai\types\responses\response_image_gen_call_generating_event.py', '.venv\Lib\site-packages\openai\types\responses\response_input_item_param.py', '.venv\Lib\site-packages\openai\types\shared\response_format_text.py', '.venv\Lib\site-packages\openai\types\webhooks\eval_run_canceled_webhook_event.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_message_tool_call_union_param.py', '.venv\Lib\site-packages\openai\types\evals\runs\output_item_list_response.py', '.venv\Lib\site-packages\openai\types\responses\response_file_search_tool_call_param.py', '.venv\Lib\site-packages\openai\types\responses\response_text_delta_event.py', '.venv\Lib\site-packages\openai\types\responses\file_search_tool_param.py', '.venv\Lib\site-packages\openai\types\responses\response_format_text_config_param.py', '.venv\Lib\site-packages\openai\types\beta\code_interpreter_tool_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_file.py', '.venv\Lib\site-packages\openai\types\responses\response_mcp_call_failed_event.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_audio_done_event.py', '.venv\Lib\site-packages\openai\types\eval_update_params.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_content_part_image.py', '.venv\Lib\site-packages\openai\types\beta\realtime\input_audio_buffer_commit_event.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item.py', '.venv\Lib\site-packages\openai\resources\vector_stores\files.py', '.venv\Lib\site-packages\openai\types\beta\threads\message_create_params.py', '.venv\Lib\site-packages\openai\types\file_chunking_strategy.py', '.venv\Lib\site-packages\openai\types\vector_store_deleted.py', '.venv\Lib\site-packages\openai\types\beta\threads\file_path_annotation.py', '.venv\Lib\site-packages\openai\types\eval_create_params.py', '.venv\Lib\site-packages\openai\types\responses\response_audio_transcript_done_event.py', '.venv\Lib\site-packages\openai\types\evals\run_list_response.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_url_param.py', '.venv\Lib\site-packages\openai\types\beta\thread_deleted.py', '.venv\Lib\site-packages\openai\types\responses\response_output_refusal_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\required_action_function_tool_call.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_url_delta_block.py', '.venv\Lib\site-packages\openai\types\webhooks\batch_failed_webhook_event.py', '.venv\Lib\site-packages\openai\types\beta\assistant_tool_choice_function.py', '.venv\Lib\site-packages\openai\_base_client.py', '.venv\Lib\site-packages\openai\types\containers\file_list_params.py', '.venv\Lib\site-packages\openai\types\webhooks\fine_tuning_job_succeeded_webhook_event.py', '.venv\Lib\site-packages\openai\resources\fine_tuning\checkpoints\checkpoints.py', '.venv\Lib\site-packages\openai\types\eval_stored_completions_data_source_config.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_truncate_event_param.py', '.venv\Lib\site-packages\openai\types\shared_params\reasoning_effort.py', '.venv\Lib\site-packages\openai\cli\_errors.py', '.venv\Lib\site-packages\openai\types\image_model.py', '.venv\Lib\site-packages\openai\resources\beta\threads\runs\runs.py', '.venv\Lib\site-packages\openai\types\responses\response_image_gen_call_completed_event.py', '.venv\Lib\site-packages\openai\types\beta\assistant_stream_event.py', '.venv\Lib\site-packages\openai\types\beta\assistant_update_params.py', '.venv\Lib\site-packages\openai\types\beta\realtime\transcription_session_update.py', '.venv\Lib\site-packages\openai\types\shared\metadata.py', '.venv\Lib\site-packages\openai\types\responses\tool_choice_function.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_content_part_text.py', '.venv\Lib\site-packages\openai\types\containers\file_retrieve_response.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_input_audio_transcription_completed_event.py', '.venv\Lib\site-packages\openai\types\audio\transcription_word.py', '.venv\Lib\site-packages\openai\types\responses\response_function_tool_call.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_file_delta.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_with_reference_param.py', '.venv\Lib\site-packages\openai\types\responses\parsed_response.py', '.venv\Lib\site-packages\openai\cli\_tools\_main.py', '.venv\Lib\site-packages\openai\types\responses\response_input_message_content_list.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_delete_event_param.py', '.venv\Lib\site-packages\openai\types\beta\realtime\input_audio_buffer_speech_started_event.py', '.venv\Lib\site-packages\openai\types\container_retrieve_response.py', '.venv\Lib\site-packages\openai\types\beta\threads\annotation.py', '.venv\Lib\site-packages\openai\types\webhooks\eval_run_succeeded_webhook_event.py', '.venv\Lib\site-packages\openai\types\responses\web_search_tool.py', '.venv\Lib\site-packages\openai\cli\_utils.py', '.venv\Lib\site-packages\openai\types\audio\__init__.py', '.venv\Lib\site-packages\openai\types\batch_error.py', '.venv\Lib\site-packages\openai\types\moderation_create_params.py', '.venv\Lib\site-packages\openai\types\beta\realtime\input_audio_buffer_clear_event.py', '.venv\Lib\site-packages\openai\types\uploads\part_create_params.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_message_function_tool_call.py', '.venv\Lib\site-packages\openai\types\shared_params\compound_filter.py', '.venv\Lib\site-packages\openai\types\chat_model.py', '.venv\Lib\site-packages\openai\types\eval_list_params.py', '.venv\Lib\site-packages\openai\resources\beta\realtime\sessions.py', '.venv\Lib\site-packages\openai\types\beta\realtime\input_audio_buffer_speech_stopped_event.py', '.venv\Lib\site-packages\openai\types\audio\translation_verbose.py', '.venv\Lib\site-packages\openai\types\vector_stores\vector_store_file_batch.py', '.venv\Lib\site-packages\openai\resources\chat\chat.py', '.venv\Lib\site-packages\openai\types\responses\tool_choice_allowed_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\file_citation_annotation.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_create_event.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_text_done_event.py', '.venv\Lib\site-packages\openai\types\beta\threads\run_status.py', '.venv\Lib\site-packages\openai\types\responses\response_refusal_done_event.py', '.venv\Lib\site-packages\openai\types\evals\create_eval_jsonl_run_data_source_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_url_content_block_param.py', '.venv\Lib\site-packages\openai\types\fine_tuning\supervised_hyperparameters.py', '.venv\Lib\site-packages\openai\types\responses\response_image_gen_call_in_progress_event.py', '.venv\Lib\site-packages\openai\types\beta\assistant_list_params.py', '.venv\Lib\site-packages\openai\types\evals\run_create_response.py', '.venv\Lib\site-packages\openai\types\responses\tool_choice_types_param.py', '.venv\Lib\site-packages\openai\lib\__init__.py', '.venv\Lib\site-packages\openai\types\auto_file_chunking_strategy_param.py', '.venv\Lib\site-packages\openai\types\fine_tuning\reinforcement_hyperparameters_param.py', '.venv\Lib\site-packages\openai\_extras\__init__.py', '.venv\Lib\site-packages\openai\types\fine_tuning\fine_tuning_job_event.py', '.venv\Lib\site-packages\openai\types\responses\response_reasoning_summary_part_added_event.py', '.venv\Lib\site-packages\openai\types\fine_tuning\supervised_hyperparameters_param.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_stream_options_param.py', '.venv\Lib\site-packages\openai\types\responses\tool_choice_mcp.py', '.venv\Lib\site-packages\openai\types\beta\threads\run_list_params.py', '.venv\Lib\site-packages\openai\types\images_response.py', '.venv\Lib\site-packages\openai\types\beta\realtime\session_create_response.py', '.venv\Lib\site-packages\openai\types\beta\threads\run_create_params.py', '.venv\Lib\site-packages\openai\resources\vector_stores\vector_stores.py', '.venv\Lib\site-packages\openai\types\upload_complete_params.py', '.venv\Lib\site-packages\openai\types\responses\response_mcp_call_completed_event.py', '.venv\Lib\site-packages\openai\__init__.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\run_step.py', '.venv\Lib\site-packages\openai\types\audio\transcription.py', '.venv\Lib\site-packages\openai\lib\streaming\responses\_responses.py', '.venv\Lib\site-packages\openai\types\beta\assistant_tool_choice_function_param.py', '.venv\Lib\site-packages\openai\types\responses\response_in_progress_event.py', '.venv\Lib\site-packages\openai\types\eval_list_response.py', '.venv\Lib\site-packages\openai\types\other_file_chunking_strategy_object.py', '.venv\Lib\site-packages\openai\types\containers\file_list_response.py', '.venv\Lib\site-packages\openai\types\responses\tool_choice_mcp_param.py', '.venv\Lib\site-packages\openai\resources\audio\speech.py', '.venv\Lib\site-packages\openai\types\shared_params\responses_model.py', '.venv\Lib\site-packages\openai\types\beta\realtime\__init__.py', '.venv\Lib\site-packages\openai\types\responses\file_search_tool.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_cancel_event.py', '.venv\Lib\site-packages\openai\types\responses\response_computer_tool_call.py', '.venv\Lib\site-packages\openai\types\image_edit_stream_event.py', '.venv\Lib\site-packages\openai\types\model_deleted.py', '.venv\Lib\site-packages\openai\resources\evals\__init__.py', '.venv\Lib\site-packages\openai\types\beta\realtime\session_create_params.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_with_reference.py', '.venv\Lib\site-packages\openai\types\responses\easy_input_message_param.py', '.venv\Lib\site-packages\openai\types\responses\response_input_image.py', '.venv\Lib\site-packages\openai\types\responses\input_item_list_params.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_system_message_param.py', '.venv\Lib\site-packages\openai\types\responses\response_created_event.py', '.venv\Lib\site-packages\openai\types\chat\completion_list_params.py', '.venv\Lib\site-packages\openai\types\responses\response_output_item_added_event.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_assistant_message_param.py', '.venv\Lib\site-packages\openai\types\responses\response_audio_delta_event.py', '.venv\Lib\site-packages\openai\types\responses\tool.py', '.venv\Lib\site-packages\openai\types\responses\response_status.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_named_tool_choice_custom_param.py', '.venv\Lib\site-packages\openai\types\fine_tuning\alpha\grader_validate_response.py', '.venv\Lib\site-packages\openai\_resource.py', '.venv\Lib\site-packages\openai\types\audio\transcription_include.py', '.venv\Lib\site-packages\openai\types\beta\assistant_tool_choice.py', '.venv\Lib\site-packages\openai\types\beta\threads\run.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_output_item_done_event.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_url.py', '.venv\Lib\site-packages\openai\types\responses\response_file_search_tool_call.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_content.py', '.venv\Lib\site-packages\openai\types\responses\computer_tool.py', '.venv\Lib\site-packages\openai\types\responses\response_refusal_delta_event.py', '.venv\Lib\site-packages\openai\types\shared\__init__.py', '.venv\Lib\site-packages\openai\types\fine_tuning\job_list_params.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_audio_param.py', '.venv\Lib\site-packages\openai\cli\_api\fine_tuning\jobs.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_store_message.py', '.venv\Lib\site-packages\openai\resources\completions.py', '.venv\Lib\site-packages\openai\types\audio\translation_create_params.py', '.venv\Lib\site-packages\openai\types\static_file_chunking_strategy.py', '.venv\Lib\site-packages\openai\types\graders\label_model_grader_param.py', '.venv\Lib\site-packages\openai\cli\_api\audio.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_url_content_block.py', '.venv\Lib\site-packages\openai\types\responses\response_function_tool_call_item.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_prediction_content_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_file_content_block.py', '.venv\Lib\site-packages\openai\types\fine_tuning\dpo_method.py', '.venv\Lib\site-packages\openai\types\responses\response_image_gen_call_partial_image_event.py', '.venv\Lib\site-packages\openai\types\responses\response_code_interpreter_tool_call.py', '.venv\Lib\site-packages\openai\types\containers\__init__.py', '.venv\Lib\site-packages\openai\types\beta\realtime\realtime_client_event_param.py', '.venv\Lib\site-packages\openai\types\graders\text_similarity_grader.py', '.venv\Lib\site-packages\openai\types\image_gen_completed_event.py', '.venv\Lib\site-packages\openai\types\beta\realtime\input_audio_buffer_committed_event.py', '.venv\Lib\site-packages\openai\types\moderation_text_input_param.py', '.venv\Lib\site-packages\openai\types\fine_tuning\dpo_hyperparameters.py', '.venv\Lib\site-packages\openai\types\beta\chat\__init__.py', '.venv\Lib\site-packages\openai\types\beta\realtime\error_event.py', '.venv\Lib\site-packages\openai\types\fine_tuning\job_create_params.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_text_delta_event.py', '.venv\Lib\site-packages\openai\types\responses\response_input_file.py', '.venv\Lib\site-packages\openai\types\beta\threads\message_deleted.py', '.venv\Lib\site-packages\openai\resources\evals\runs\output_items.py', '.venv\Lib\site-packages\openai\lib\_tools.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\run_step_include.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\code_interpreter_tool_call_delta.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\tool_call.py', '.venv\Lib\site-packages\openai\types\beta\realtime\input_audio_buffer_append_event.py', '.venv\Lib\site-packages\openai\types\beta\threads\message_content_delta.py', '.venv\Lib\site-packages\openai\types\shared_params\function_definition.py', '.venv\Lib\site-packages\openai\types\static_file_chunking_strategy_object_param.py', '.venv\Lib\site-packages\openai\types\vector_store_search_params.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_function_tool.py', '.venv\Lib\site-packages\openai\cli\_api\models.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_message_tool_call_param.py', '.venv\Lib\site-packages\openai\types\fine_tuning\checkpoints\permission_create_response.py', '.venv\Lib\site-packages\openai\types\eval_update_response.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_cancel_event_param.py', '.venv\Lib\site-packages\openai\types\beta\realtime\input_audio_buffer_append_event_param.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_truncate_event.py', '.venv\Lib\site-packages\openai\types\responses\response_mcp_call_arguments_done_event.py', '.venv\Lib\site-packages\openai\lib\streaming\chat\__init__.py', '.venv\Lib\site-packages\openai\resources\chat\__init__.py', '.venv\Lib\site-packages\openai\_utils\_utils.py', '.venv\Lib\site-packages\openai\lib\azure.py', '.venv\Lib\site-packages\openai\types\fine_tuning\jobs\__init__.py', '.venv\Lib\site-packages\openai\types\beta\threads\annotation_delta.py', '.venv\Lib\site-packages\openai\_legacy_response.py', '.venv\Lib\site-packages\openai\_version.py', '.venv\Lib\site-packages\openai\resources\embeddings.py', '.venv\Lib\site-packages\openai\_utils\_typing.py', '.venv\Lib\site-packages\openai\types\vector_store_create_params.py', '.venv\Lib\site-packages\openai\types\moderation_create_response.py', '.venv\Lib\site-packages\openai\resources\fine_tuning\__init__.py', '.venv\Lib\site-packages\openai\types\responses\response_custom_tool_call.py', '.venv\Lib\site-packages\openai\types\beta\threads\message_update_params.py', '.venv\Lib\site-packages\openai\types\fine_tuning\alpha\grader_run_params.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_input_audio_transcription_delta_event.py', '.venv\Lib\site-packages\openai\types\beta\assistant_tool_choice_option.py', '.venv\Lib\site-packages\openai\types\beta\threads\file_citation_delta_annotation.py', '.venv\Lib\site-packages\openai\types\responses\response_custom_tool_call_input_delta_event.py', '.venv\Lib\site-packages\openai\types\fine_tuning\alpha\grader_run_response.py', '.venv\Lib\site-packages\openai\types\responses\response_text_config.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_content_part_text_param.py', '.venv\Lib\site-packages\openai\_utils\_reflection.py', '.venv\Lib\site-packages\openai\types\fine_tuning\reinforcement_method.py', '.venv\Lib\site-packages\openai\types\audio\translation_create_response.py', '.venv\Lib\site-packages\openai\types\beta\realtime\realtime_connect_params.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_message_function_tool_call_param.py', '.venv\Lib\site-packages\openai\types\responses\response_code_interpreter_call_completed_event.py', '.venv\Lib\site-packages\openai\resources\moderations.py', '.venv\Lib\site-packages\openai\types\beta\realtime\realtime_client_event.py', '.venv\Lib\site-packages\openai\types\beta\threads\run_submit_tool_outputs_params.py', '.venv\Lib\site-packages\openai\types\fine_tuning\reinforcement_method_param.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_audio.py', '.venv\Lib\site-packages\openai\cli\_api\chat\__init__.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_user_message_param.py', '.venv\Lib\site-packages\openai\cli\_tools\fine_tunes.py', '.venv\Lib\site-packages\openai\types\beta\assistant_deleted.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_function_message_param.py', '.venv\Lib\site-packages\openai\_utils\_proxy.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_modality.py', '.venv\Lib\site-packages\openai\_extras\numpy_proxy.py', '.venv\Lib\site-packages\openai\resources\beta\realtime\__init__.py', '.venv\Lib\site-packages\openai\types\eval_create_response.py', '.venv\Lib\site-packages\openai\types\shared\response_format_json_schema.py', '.venv\Lib\site-packages\openai\types\beta\threads\refusal_content_block.py', '.venv\Lib\site-packages\openai\cli\_api\fine_tuning\__init__.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_deleted.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_param.py', '.venv\Lib\site-packages\openai\types\responses\response_input_message_item.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\code_interpreter_tool_call.py', '.venv\Lib\site-packages\openai\types\responses\response_audio_transcript_delta_event.py', '.venv\Lib\site-packages\openai\types\responses\response_mcp_call_in_progress_event.py', '.venv\Lib\site-packages\openai\types\graders\python_grader.py', '.venv\Lib\site-packages\openai\lib\_parsing\_responses.py', '.venv\Lib\site-packages\openai\types\shared_params\function_parameters.py', '.venv\Lib\site-packages\openai\types\responses\response_input_file_param.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_retrieve_event_param.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_custom_tool_param.py', '.venv\Lib\site-packages\openai\types\responses\response_input_item.py', '.venv\Lib\site-packages\openai\types\responses\tool_choice_options.py', '.venv\Lib\site-packages\openai\types\responses\response_content_part_done_event.py', '.venv\Lib\site-packages\openai\types\image_edit_params.py', '.venv\Lib\site-packages\openai\types\responses\custom_tool_param.py', '.venv\Lib\site-packages\openai\types\beta\realtime\session_updated_event.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\tool_call_delta.py', '.venv\Lib\site-packages\openai\types\fine_tuning\checkpoints\__init__.py', '.venv\Lib\site-packages\openai\types\responses\response_item.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_content_param.py', '.venv\Lib\site-packages\openai\types\shared\custom_tool_input_format.py', '.venv\Lib\site-packages\openai\types\containers\files\__init__.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_input_audio_transcription_failed_event.py', '.venv\Lib\site-packages\openai\types\batch_create_params.py', '.venv\Lib\site-packages\openai\types\shared\comparison_filter.py', '.venv\Lib\site-packages\openai\types\responses\response_input_message_content_list_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\run_step_delta_event.py', '.venv\Lib\site-packages\openai\resources\uploads\uploads.py', '.venv\Lib\site-packages\openai\types\container_list_params.py', '.venv\Lib\site-packages\openai\types\evals\runs\output_item_retrieve_response.py', '.venv\Lib\site-packages\openai\types\fine_tuning\reinforcement_hyperparameters.py', '.venv\Lib\site-packages\openai\types\beta\realtime\realtime_response_usage.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\tool_call_delta_object.py', '.venv\Lib\site-packages\openai\resources\audio\translations.py', '.venv\Lib\site-packages\openai\_response.py', '.venv\Lib\site-packages\openai\types\responses\tool_choice_function_param.py', '.venv\Lib\site-packages\openai\types\fine_tuning\jobs\fine_tuning_job_checkpoint.py', '.venv\Lib\site-packages\openai\types\responses\response_computer_tool_call_param.py', '.venv\Lib\site-packages\openai\resources\files.py', '.venv\Lib\site-packages\openai\types\shared_params\reasoning.py', '.venv\Lib\site-packages\openai\types\vector_stores\vector_store_file_deleted.py', '.venv\Lib\site-packages\openai\types\completion_usage.py', '.venv\Lib\site-packages\openai\cli\_progress.py', '.venv\Lib\site-packages\openai\types\beta\threads\message_delta_event.py', '.venv\Lib\site-packages\openai\_module_client.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_output_item_added_event.py', '.venv\Lib\site-packages\openai\types\beta\assistant_tool_choice_option_param.py', '.venv\Lib\site-packages\openai\cli\__init__.py', '.venv\Lib\site-packages\openai\types\responses\response_code_interpreter_call_code_done_event.py', '.venv\Lib\site-packages\openai\types\image_gen_partial_image_event.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_audio_delta_event.py', '.venv\Lib\site-packages\openai\cli\_api\__init__.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_file_param.py', '.venv\Lib\site-packages\openai\types\uploads\upload_part.py', '.venv\Lib\site-packages\openai\types\beta\__init__.py', '.venv\Lib\site-packages\openai\lib\_validators.py', '.venv\Lib\site-packages\openai\resources\responses\__init__.py', '.venv\Lib\site-packages\openai\types\vector_stores\file_content_response.py', '.venv\Lib\site-packages\openai\resources\fine_tuning\jobs\jobs.py', '.venv\Lib\site-packages\openai\types\shared\all_models.py', '.venv\Lib\site-packages\openai\_utils\_logs.py', '.venv\Lib\site-packages\openai\types\responses\response_output_message.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_create_event_param.py', '.venv\Lib\site-packages\openai\types\responses\response_function_web_search_param.py', '.venv\Lib\site-packages\openai\types\file_chunking_strategy_param.py', '.venv\Lib\site-packages\openai\lib\streaming\__init__.py', '.venv\Lib\site-packages\openai\resources\beta\threads\__init__.py', '.venv\Lib\site-packages\openai\types\vector_stores\file_update_params.py', '.venv\Lib\site-packages\openai\types\beta\threads\text_content_block_param.py', '.venv\Lib\site-packages\openai\cli\_api\image.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_done_event.py', '.venv\Lib\site-packages\openai\types\container_create_params.py', '.venv\Lib\site-packages\openai\types\moderation_multi_modal_input_param.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_tool_union_param.py', '.venv\Lib\site-packages\openai\types\shared\reasoning_effort.py', '.venv\Lib\site-packages\openai\pagination.py', '.venv\Lib\site-packages\openai\types\beta\function_tool_param.py', '.venv\Lib\site-packages\openai\types\evals\create_eval_completions_run_data_source.py', '.venv\Lib\site-packages\openai\types\responses\response_function_call_arguments_done_event.py', '.venv\Lib\site-packages\openai\types\fine_tuning\checkpoints\permission_retrieve_params.py', '.venv\Lib\site-packages\openai\resources\containers\files\content.py', '.venv\Lib\site-packages\openai\types\webhooks\response_completed_webhook_event.py', '.venv\Lib\site-packages\openai\types\beta\realtime\realtime_server_event.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_tool_choice_option_param.py', '.venv\Lib\site-packages\openai\types\vector_store.py', '.venv\Lib\site-packages\openai\types\image_gen_stream_event.py', '.venv\Lib\site-packages\openai\types\shared_params\chat_model.py', '.venv\Lib\site-packages\openai\resources\beta\realtime\realtime.py', '.venv\Lib\site-packages\openai\types\responses\response_input_content_param.py', '.venv\Lib\site-packages\openai\_constants.py', '.venv\Lib\site-packages\openai\types\responses\response_output_refusal.py', '.venv\Lib\site-packages\openai\types\beta\function_tool.py', '.venv\Lib\site-packages\openai\types\responses\easy_input_message.py', '.venv\Lib\site-packages\openai\types\responses\response_retrieve_params.py', '.venv\Lib\site-packages\openai\types\vector_stores\file_create_params.py', '.venv\Lib\site-packages\openai\types\responses\response_code_interpreter_call_interpreting_event.py', '.venv\Lib\site-packages\openai\types\shared\compound_filter.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\file_search_tool_call.py', '.venv\Lib\site-packages\openai\types\evals\run_retrieve_response.py', '.venv\Lib\site-packages\openai\types\webhooks\unwrap_webhook_event.py', '.venv\Lib\site-packages\openai\resources\responses\responses.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\message_creation_step_details.py', '.venv\Lib\site-packages\openai\resources\webhooks.py', '.venv\Lib\site-packages\openai\resources\fine_tuning\alpha\graders.py', '.venv\Lib\site-packages\openai\types\responses\response_output_text.py', '.venv\Lib\site-packages\openai\types\beta\realtime\session_created_event.py', '.venv\Lib\site-packages\openai\types\audio\transcription_text_done_event.py', '.venv\Lib\site-packages\openai\types\beta\thread_create_params.py', '.venv\Lib\site-packages\openai\types\eval_delete_response.py', '.venv\Lib\site-packages\openai\types\responses\response_reasoning_summary_part_done_event.py', '.venv\Lib\site-packages\openai\types\graders\__init__.py', '.venv\Lib\site-packages\openai\types\graders\multi_grader.py', '.venv\Lib\site-packages\openai\types\evals\run_list_params.py', '.venv\Lib\site-packages\openai\types\beta\assistant.py', '.venv\Lib\site-packages\openai\cli\_tools\__init__.py', '.venv\Lib\site-packages\openai\types\webhooks\response_failed_webhook_event.py', '.venv\Lib\site-packages\openai\types\beta\realtime\input_audio_buffer_clear_event_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\text_delta.py', '.venv\Lib\site-packages\openai\types\beta\file_search_tool_param.py', '.venv\Lib\site-packages\openai\types\evals\run_create_params.py', '.venv\Lib\site-packages\openai\resources\evals\runs\runs.py', '.venv\Lib\site-packages\openai\types\fine_tuning\__init__.py', '.venv\Lib\site-packages\openai\types\audio\transcription_create_params.py', '.venv\Lib\site-packages\openai\types\image_create_variation_params.py', '.venv\Lib\site-packages\openai\types\evals\create_eval_jsonl_run_data_source.py', '.venv\Lib\site-packages\openai\lib\streaming\chat\_events.py', '.venv\Lib\site-packages\openai\types\responses\response_reasoning_text_delta_event.py', '.venv\Lib\site-packages\openai\types\responses\response_function_tool_call_output_item.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_file_delta_block.py', '.venv\Lib\site-packages\openai\types\batch_request_counts.py', '.venv\Lib\site-packages\openai\types\fine_tuning\fine_tuning_job_integration.py', '.venv\Lib\site-packages\openai\types\moderation_model.py', '.venv\Lib\site-packages\openai\types\shared\response_format_text_grammar.py', '.venv\Lib\site-packages\openai\types\responses\response_computer_tool_call_output_item.py', '.venv\Lib\site-packages\openai\types\beta\realtime\input_audio_buffer_cleared_event.py', '.venv\Lib\site-packages\openai\resources\fine_tuning\checkpoints\permissions.py', '.venv\Lib\site-packages\openai\types\responses\response_custom_tool_call_input_done_event.py', '.venv\Lib\site-packages\openai\_exceptions.py', '.venv\Lib\site-packages\openai\lib\_pydantic.py', '.venv\Lib\site-packages\openai\types\webhooks\response_incomplete_webhook_event.py', '.venv\Lib\site-packages\openai\resources\containers\__init__.py', '.venv\Lib\site-packages\openai\types\shared\responses_model.py', '.venv\Lib\site-packages\openai\_qs.py', '.venv\Lib\site-packages\openai\types\completion.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\tool_calls_step_details.py', '.venv\Lib\site-packages\openai\types\shared_params\response_format_json_object.py', '.venv\Lib\site-packages\openai\types\responses\response_includable.py', '.venv\Lib\site-packages\openai\_files.py', '.venv\Lib\site-packages\openai\types\audio\speech_create_params.py', '.venv\Lib\site-packages\openai\types\responses\response_custom_tool_call_output_param.py', '.venv\Lib\site-packages\openai\types\responses\response_input_text_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\image_file_content_block_param.py', '.venv\Lib\site-packages\openai\types\audio\transcription_create_response.py', '.venv\Lib\site-packages\openai\types\containers\file_create_response.py', '.venv\Lib\site-packages\openai\types\responses\response_format_text_json_schema_config.py', '.venv\Lib\site-packages\openai\_types.py', '.venv\Lib\site-packages\openai\cli\_cli.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\step_list_params.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\run_step_delta_message_delta.py', '.venv\Lib\site-packages\openai\types\responses\response_computer_tool_call_output_screenshot_param.py', '.venv\Lib\site-packages\openai\types\responses\response_mcp_list_tools_in_progress_event.py', '.venv\Lib\site-packages\openai\types\responses\response_output_text_annotation_added_event.py', '.venv\Lib\site-packages\openai\resources\uploads\__init__.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_truncated_event.py', '.venv\Lib\site-packages\openai\types\file_create_params.py', '.venv\Lib\site-packages\openai\resources\beta\threads\runs\__init__.py', '.venv\Lib\site-packages\openai\resources\evals\evals.py', '.venv\Lib\site-packages\openai\cli\_tools\migrate.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_function_call_option_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\function_tool_call.py', '.venv\Lib\site-packages\openai\types\embedding.py', '.venv\Lib\site-packages\openai\types\image_edit_completed_event.py', '.venv\Lib\site-packages\openai\types\image_edit_partial_image_event.py', '.venv\Lib\site-packages\openai\resources\vector_stores\__init__.py', '.venv\Lib\site-packages\openai\types\fine_tuning\job_list_events_params.py', '.venv\Lib\site-packages\openai\types\beta\thread_update_params.py', '.venv\Lib\site-packages\openai\types\chat\parsed_chat_completion.py', '.venv\Lib\site-packages\openai\types\responses\tool_choice_custom_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\message_delta.py', '.venv\Lib\site-packages\openai\types\vector_stores\file_batch_list_files_params.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_audio_transcript_delta_event.py', '.venv\Lib\site-packages\openai\types\beta\realtime\session_update_event_param.py', '.venv\Lib\site-packages\openai\types\beta\threads\__init__.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\step_retrieve_params.py', '.venv\Lib\site-packages\openai\types\uploads\__init__.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_deleted_event.py', '.venv\Lib\site-packages\openai\types\responses\response_queued_event.py', '.venv\Lib\site-packages\openai\types\fine_tuning\fine_tuning_job_wandb_integration_object.py', '.venv\Lib\site-packages\openai\resources\audio\__init__.py', '.venv\Lib\site-packages\openai\types\evals\runs\__init__.py', '.venv\Lib\site-packages\openai\types\vector_stores\file_list_params.py', '.venv\Lib\site-packages\openai\types\fine_tuning\fine_tuning_job_wandb_integration.py', '.venv\Lib\site-packages\openai\types\beta\realtime\response_audio_transcript_done_event.py', '.venv\Lib\site-packages\openai\types\batch_list_params.py', '.venv\Lib\site-packages\openai\types\evals\eval_api_error.py', '.venv\Lib\site-packages\openai\types\batch.py', '.venv\Lib\site-packages\openai\resources\beta\realtime\transcription_sessions.py', '.venv\Lib\site-packages\openai\types\chat\completion_create_params.py', '.venv\Lib\site-packages\openai\types\beta\threads\runs\code_interpreter_output_image.py', '.venv\Lib\site-packages\openai\lib\streaming\chat\_completions.py', '.venv\Lib\site-packages\openai\version.py', '.venv\Lib\site-packages\openai\types\webhooks\batch_expired_webhook_event.py', '.venv\Lib\site-packages\openai\types\beta\assistant_response_format_option.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_message_tool_call.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_allowed_tools_param.py', '.venv\Lib\site-packages\openai\types\responses\response_input_image_param.py', '.venv\Lib\site-packages\openai\types\responses\response_item_list.py', '.venv\Lib\site-packages\openai\types\evals\run_cancel_response.py', '.venv\Lib\site-packages\openai\types\webhooks\fine_tuning_job_cancelled_webhook_event.py', '.venv\Lib\site-packages\openai\_utils\_resources_proxy.py', '.venv\Lib\site-packages\openai\cli\_api\chat\completions.py', '.venv\Lib\site-packages\openai\types\chat\chat_completion_allowed_tool_choice_param.py', '.venv\Lib\site-packages\openai\types\fine_tuning\alpha\__init__.py', '.venv\Lib\site-packages\openai\types\beta\threads\run_update_params.py', '.venv\Lib\site-packages\openai\types\beta\realtime\conversation_item_created_event.py', '.venv\Lib\site-packages\openai\types\shared\function_definition.py', '.venv\Lib\site-packages\openai\types\vector_store_update_params.py', '.venv\Lib\site-packages\openai\types\fine_tuning\supervised_method.py', '.venv\Lib\site-packages\openai\resources\images.py', '.venv\Lib\site-packages\openai\types\beta\realtime\session.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
Process SpawnProcess-20:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor_v2 import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor_v2.py", line 340, in <module>
    @router.get("/logs", response_model=List[Dict[str, Any]], summary="Récupérer les logs d'interaction")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 963, in decorator
    self.add_api_route(
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 902, in add_api_route
    route = route_class(
            ^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 532, in __init__
    self.dependant = get_dependant(path=self.path_format, call=self.endpoint)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 289, in get_dependant
    add_param_to_fields(field=param_field, dependant=dependant)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 486, in add_param_to_fields
    field_info_in == params.ParamTypes.cookie
AssertionError: non-body parameters must be in path, query, header or cookie: limit
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
Process SpawnProcess-21:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor_v2 import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor_v2.py", line 340, in <module>
    @router.get("/logs", response_model=List[Dict[str, Any]], summary="Récupérer les logs d'interaction")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 963, in decorator
    self.add_api_route(
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 902, in add_api_route
    route = route_class(
            ^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 532, in __init__
    self.dependant = get_dependant(path=self.path_format, call=self.endpoint)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 289, in get_dependant
    add_param_to_fields(field=param_field, dependant=dependant)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 486, in add_param_to_fields
    field_info_in == params.ParamTypes.cookie
AssertionError: non-body parameters must be in path, query, header or cookie: limit
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\openai_factory.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
Process SpawnProcess-22:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor_v2 import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor_v2.py", line 340, in <module>
    @router.get("/logs", response_model=List[Dict[str, Any]], summary="Récupérer les logs d'interaction")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 963, in decorator
    self.add_api_route(
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 902, in add_api_route
    route = route_class(
            ^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 532, in __init__
    self.dependant = get_dependant(path=self.path_format, call=self.endpoint)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 289, in get_dependant
    add_param_to_fields(field=param_field, dependant=dependant)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 486, in add_param_to_fields
    field_info_in == params.ParamTypes.cookie
AssertionError: non-body parameters must be in path, query, header or cookie: limit
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\openai_factory.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
Process SpawnProcess-23:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor_v2 import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor_v2.py", line 340, in <module>
    @router.get("/logs", response_model=List[Dict[str, Any]], summary="Récupérer les logs d'interaction")
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 963, in decorator
    self.add_api_route(
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 902, in add_api_route
    route = route_class(
            ^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 532, in __init__
    self.dependant = get_dependant(path=self.path_format, call=self.endpoint)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 289, in get_dependant
    add_param_to_fields(field=param_field, dependant=dependant)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 486, in add_param_to_fields
    field_info_in == params.ParamTypes.cookie
AssertionError: non-body parameters must be in path, query, header or cookie: limit
WARNING:  WatchFiles detected changes in 'src\soft\dg\api\endpoints\ia_supervisor_v2.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
Process SpawnProcess-24:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\__init__.py", line 8, in <module>
    from .api.router import router as dg_router
  File "c:\smartlinks-autopilot\src\soft\dg\api\router.py", line 6, in <module>
    from .endpoints.ia_supervisor_v2 import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor_v2.py", line 342, in <module>
    limit: int = Query(default=100, ge=1, le=1000, description="Nombre maximum de logs à retourner"),
                 ^^^^^
NameError: name 'Query' is not defined
WARNING:  WatchFiles detected changes in 'src\soft\dg\api\endpoints\ia_supervisor_v2.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
Process SpawnProcess-25:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 31, in <module>
    from .dg.api.endpoints.ia_supervisor import register_ia_supervisor_routes
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor.py", line 14, in <module>
    from ...ai import IASupervisor, OperationMode
ImportError: cannot import name 'OperationMode' from 'src.soft.dg.ai' (c:\smartlinks-autopilot\src\soft\dg\ai\__init__.py)
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\__init__.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [11760]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:57046 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57047 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57050 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57051 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57058 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57063 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57065 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57075 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57082 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57087 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57086 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57088 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57096 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57102 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57103 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57110 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57114 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57118 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57120 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57130 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57134 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57137 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57144 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57150 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57152 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57154 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57162 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57166 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57169 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62439 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62444 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62447 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62449 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62456 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62460 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62463 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62470 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62476 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62478 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62481 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62488 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62494 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62495 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62501 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62505 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62508 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62511 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62518 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62522 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62525 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62534 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62567 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62570 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62573 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62576 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64101 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64105 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64107 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64110 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64709 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64712 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64715 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64718 - "GET /api/stats HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'seed_data.py'. Reloading...
INFO:     127.0.0.1:52710 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52714 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52716 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52719 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53281 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53284 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53287 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53290 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51943 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51946 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51949 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51952 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63803 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63805 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63813 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63814 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63815 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63816 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63824 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63825 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63826 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63828 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [11760]
WARNING:  WatchFiles detected changes in 'src\soft\router.py', 'src\soft\api\settings_router.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [13976]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [14464]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:63868 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63860 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63867 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63869 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63880 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63866 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63889 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63897 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63895 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63896 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63894 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63902 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63915 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63914 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63911 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63910 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63922 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63925 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63932 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63933 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63934 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63938 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63940 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:49881 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49884 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49890 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:49893 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:49896 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49901 - "GET /api/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:49903 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:49907 - "GET /api/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:49909 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:49920 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49930 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49938 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49946 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49954 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49965 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49973 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49981 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49989 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49999 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50067 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50075 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50083 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50091 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50100 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50149 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50218 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50233 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50235 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50242 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50247 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50251 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50250 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50256 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50259 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50260 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50265 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50268 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50274 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50277 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50280 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:50285 - "GET /api/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:50287 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:50291 - "GET /api/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:50293 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:50300 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50305 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50304 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:50306 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50312 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50316 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50317 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:50318 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50324 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50329 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:50332 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50337 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50338 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50342 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:50345 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50350 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50353 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:50356 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50364 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50368 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:50369 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50370 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50377 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50384 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50385 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50396 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50406 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50407 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:50408 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50411 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50417 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50423 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50425 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50431 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50444 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:50445 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50443 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50446 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50452 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50460 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50461 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50466 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:50469 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50478 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50479 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50481 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50487 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50497 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50498 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50505 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50512 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50515 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50516 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50522 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50529 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50530 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50536 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61560 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61561 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61563 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61569 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61583 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61585 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61591 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61599 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61602 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61603 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61610 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61618 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61619 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61625 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61630 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61635 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61636 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61642 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61648 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61650 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61656 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61663 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61665 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61667 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61673 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61684 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61685 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61691 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61697 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61700 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61703 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61709 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61730 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61732 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61735 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61738 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61811 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61814 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61817 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61820 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'src\soft\api\analytics_router.py'. Reloading...
INFO:     127.0.0.1:53076 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53079 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53082 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53085 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53178 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53181 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53184 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53187 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53265 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53268 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53272 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53274 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14464]
WARNING:  WatchFiles detected changes in 'src\soft\api\analytics_router.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [10104]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [15940]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
WARNING:  WatchFiles detected changes in 'fix_all_issues.py'. Reloading...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:49703 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49706 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49700 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49709 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15940]
WARNING:  WatchFiles detected changes in 'fix_all_issues.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [14756]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [15500]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:50106 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50109 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50112 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50115 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64679 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64682 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64685 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64688 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65115 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65118 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65121 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65124 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65200 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:65206 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65205 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65207 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65208 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65214 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65226 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65228 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65234 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65235 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:65237 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65236 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65246 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65247 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:65249 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65248 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65255 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:65258 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65262 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65266 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:65269 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65274 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65275 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65281 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:65284 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65290 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65300 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:65301 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65299 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65303 - "GET /api/stats HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'generate_data.py'. Reloading...
INFO:     127.0.0.1:65315 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65318 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65321 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65331 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65336 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65340 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65339 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65346 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65347 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65349 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65356 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65360 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:65362 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65361 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65370 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65371 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:65372 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65374 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65380 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65388 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65405 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65406 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:65408 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65407 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65419 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65417 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65418 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:65420 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65423 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65431 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65434 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65435 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65440 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65443 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65444 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:65450 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65455 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65458 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65466 - "GET /api/health HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15500]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [8360]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'force_data_generation.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [8360]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [15408]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'force_data_generation.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15408]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [7728]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'scripts\seed_database.py'. Reloading...
INFO:     127.0.0.1:56594 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56596 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56601 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56605 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56606 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56607 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56612 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56615 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56617 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56619 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51534 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51540 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51542 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51548 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:51551 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51555 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51559 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:51562 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51568 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51572 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51573 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51574 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51579 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:51582 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51587 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51592 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51594 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51601 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51608 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51612 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51613 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51614 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51624 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51630 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51631 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51638 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51646 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51647 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51650 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51651 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51658 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51664 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51665 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51675 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51683 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51684 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51687 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51688 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51703 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51704 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51706 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51720 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51732 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51742 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51743 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51746 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51747 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51754 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51759 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51761 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51760 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51772 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51777 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51783 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51784 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51786 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51790 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51792 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51801 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51814 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51825 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51835 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51846 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51856 - "GET /api/health HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [7728]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [15916]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:51869 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51879 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63820 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63830 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63840 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63851 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63864 - "GET /api/health HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'temp_generate.py'. Reloading...
INFO:     127.0.0.1:63932 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64011 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64021 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64025 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64026 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64027 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64035 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64037 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64040 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64041 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64046 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57280 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:57283 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57289 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57291 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57294 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:57297 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57301 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:57304 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57307 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61416 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61422 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61421 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61420 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61426 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61436 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61437 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61443 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61456 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61457 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61461 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61460 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61466 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61474 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61475 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61480 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61492 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61493 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61494 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61499 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61506 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61508 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61513 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61520 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61522 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61525 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61530 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61537 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61539 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61544 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61558 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61559 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61560 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61565 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61574 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61575 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61580 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61591 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61594 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61596 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61601 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61607 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61612 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61613 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61617 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61628 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61627 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61630 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61634 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61639 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61643 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61642 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61649 - "POST /api/ai/dg HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61654 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61656 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61659 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61663 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52172 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52176 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52175 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52180 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53839 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53840 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53841 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53842 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53851 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53853 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53852 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53854 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53863 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53868 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:53871 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53875 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:53878 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53883 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53884 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53889 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:53892 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53896 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53909 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53910 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53911 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53916 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53924 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53925 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53930 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53941 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53940 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53942 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53947 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53955 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53956 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53961 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53999 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54002 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54005 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54008 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54013 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54017 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54019 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54024 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54034 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54035 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54037 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54042 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54048 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54052 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54054 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54059 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54069 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54070 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54071 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54076 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54081 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54087 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54088 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54093 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54102 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54103 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54105 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54110 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54116 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54121 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54123 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54129 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54138 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54139 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54141 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54146 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54154 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54156 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54163 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54169 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54172 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54175 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54181 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54189 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54191 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54196 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54204 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54206 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54209 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54216 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54221 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54224 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54230 - "GET /api/health HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15916]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [11320]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/history
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/config
INFO:smartlinks:GET    /api/countries
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:GET    /api/devices
INFO:smartlinks:GET    /api/devices/analytics
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:54241 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54238 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54244 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54249 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54258 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54260 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54264 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54274 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54275 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54276 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54281 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54289 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54290 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54295 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54305 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54306 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54307 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54312 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54321 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54322 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54327 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54337 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54338 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54339 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54344 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62368 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62371 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62376 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62377 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54199 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54202 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54205 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54208 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54268 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54273 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54274 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54275 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54276 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54285 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54287 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54292 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54301 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54303 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54304 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54309 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54312 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54320 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54321 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54326 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54337 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54336 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54338 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54343 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54346 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54354 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54355 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54360 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54367 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54370 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54373 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54378 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54386 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54388 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54393 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54401 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54404 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54405 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54410 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54419 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54421 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54426 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54436 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54437 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54438 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54443 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54449 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54452 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54457 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54463 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54467 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54469 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54474 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54481 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54483 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54488 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54495 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54498 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54500 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54505 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54513 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54514 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54519 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54525 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54528 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54531 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53555 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53563 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53564 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53570 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53640 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53643 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53647 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53649 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53705 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53714 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53715 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53716 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53717 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53723 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53732 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53734 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53736 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53741 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53748 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53750 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53753 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53758 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53765 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53768 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53771 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51831 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51840 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51841 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51846 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51852 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51857 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51858 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51863 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51872 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51873 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51878 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51889 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51888 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51890 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51895 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51903 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51904 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51909 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51919 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51923 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51922 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51928 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51935 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51937 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51941 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51947 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51951 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51954 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51958 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51967 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51968 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51973 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51983 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51984 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51985 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51990 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51997 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51999 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52004 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52013 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52016 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52019 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52022 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52081 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52086 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52087 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52088 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52089 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52097 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52100 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52101 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52106 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52114 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52115 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52123 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52127 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52130 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52135 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52138 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52139 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52143 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52145 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52149 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52152 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52158 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52161 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52164 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61723 - "GET /api/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:61724 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61728 - "GET /api/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:61730 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57085 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57093 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57110 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57120 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57132 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57142 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57152 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49472 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52094 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52107 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52121 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57128 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57138 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57148 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57163 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57164 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57165 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57166 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57172 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57177 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57176 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57178 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57181 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57195 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57204 - "OPTIONS /api/ia/status HTTP/1.1" 200 OK
ERROR:src.soft.dg.api.endpoints.ia_supervisor:Error in get_status: 1 validation error for StatusResponse
available_algorithms.0
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.8/v/string_type
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor.py", line 133, in get_status
    return StatusResponse(**status_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\pydantic\main.py", line 193, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for StatusResponse
available_algorithms.0
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.8/v/string_type
INFO:     127.0.0.1:57208 - "GET /api/ia/status HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:57213 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57223 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57238 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57242 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57243 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57244 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57250 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57254 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57255 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57256 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57259 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57264 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:57267 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57271 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:57274 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57279 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:57282 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57287 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57289 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57292 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57488 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57491 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57494 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57498 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57509 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57510 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57518 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57529 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57530 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57532 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57536 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57543 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57546 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57550 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57557 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57562 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57563 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57567 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57576 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57579 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57580 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57589 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57594 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57597 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57598 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57609 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57610 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57613 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57622 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57628 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57629 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57631 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57643 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57644 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57646 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57657 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57660 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57661 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57664 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57675 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57676 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57678 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57691 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57700 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57703 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57702 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57701 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57713 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57716 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57717 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57720 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57730 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57732 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57735 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57741 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57740 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57739 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57749 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57750 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57751 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57753 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52027 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52032 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52034 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52041 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52050 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52051 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52054 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52055 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52058 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:52061 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52066 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:52069 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52073 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:52076 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52080 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52086 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52087 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52096 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52107 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52108 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52109 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52110 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52120 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52125 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52127 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52137 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52141 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52145 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52150 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52162 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52167 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52169 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52185 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52193 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52196 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52199 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52213 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52218 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52220 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52227 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52233 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52236 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52237 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52250 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52256 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52257 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52264 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52270 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52272 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52274 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52278 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52284 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52290 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52291 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52299 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52318 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52319 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52320 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52321 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52323 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52325 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52330 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52333 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52334 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52347 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52348 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52351 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52365 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52366 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52368 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52374 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52378 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52379 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52380 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52383 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52395 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52398 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52399 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52412 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52416 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52418 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52421 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58889 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58892 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58895 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58905 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58908 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58911 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58914 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58924 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58927 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58930 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58940 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58943 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58946 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58949 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58961 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58962 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58965 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56512 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56514 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56517 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56520 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56541 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56544 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56547 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56558 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56562 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56564 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56568 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56581 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56583 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56586 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56600 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56604 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56606 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56609 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56622 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56623 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56625 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53573 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53576 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53579 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53582 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54148 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54151 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54154 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54157 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59776 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59779 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59782 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59785 - "GET /api/health HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'src\soft\api\analytics_router.py'. Reloading...
INFO:     127.0.0.1:59892 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59897 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59899 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59902 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50542 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50545 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50548 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50551 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62838 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62840 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62844 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62846 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62951 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51753 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58382 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58385 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65170 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65174 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65178 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65179 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62345 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62350 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62351 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62354 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62449 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62453 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62455 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62458 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53688 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53694 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53695 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53697 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52094 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52097 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52100 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52103 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49799 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49802 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50539 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59378 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62866 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62869 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62872 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62875 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60286 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60290 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60292 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60295 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56464 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56467 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56470 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56473 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64970 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64973 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64976 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64979 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65073 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65077 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65079 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65082 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64005 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57314 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63841 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63844 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60590 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60593 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60596 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60599 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52475 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52479 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52482 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52484 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58055 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58060 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58061 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58064 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54642 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54646 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54648 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54651 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54744 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54748 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54751 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54753 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62296 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61428 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61431 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61434 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51886 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51891 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51892 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51895 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63970 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63973 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63977 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63979 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54603 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54607 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54611 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54612 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64221 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64224 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64227 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64230 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52198 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52202 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52204 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52207 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60828 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53107 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59282 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59285 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49248 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49251 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49254 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49257 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52271 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52275 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52277 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52280 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59458 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59461 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59464 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59467 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61719 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61722 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61725 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61728 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50932 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50936 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50939 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50942 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62724 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62727 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52524 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52527 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64025 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64028 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64032 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64034 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51650 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51655 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51656 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51659 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51750 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51753 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51757 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51760 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64957 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64960 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64963 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64966 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64085 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64088 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64092 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64094 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55746 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59549 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59552 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59555 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62136 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62142 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62143 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62145 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63894 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63899 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63900 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63903 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58390 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58392 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58395 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58399 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63647 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63651 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63654 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63656 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63748 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63753 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63754 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63757 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49239 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65005 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65008 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65011 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59375 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59379 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59381 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59384 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55147 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55150 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55154 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55156 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49528 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49531 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49534 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49537 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49337 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49342 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49343 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49346 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49438 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49441 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49444 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49447 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58852 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63850 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63853 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63856 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58206 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58209 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58212 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58215 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59800 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59804 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59806 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59809 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50766 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50769 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50772 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50775 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51365 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51370 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51372 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51375 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53550 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53554 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53556 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53559 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56919 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56922 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60288 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56725 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61731 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61737 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61738 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61740 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59438 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59442 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59444 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59447 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65411 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65414 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65418 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65420 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53216 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53221 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53222 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53225 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60857 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60860 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60864 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60866 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54299 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54304 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54307 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54308 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49869 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49873 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49875 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49878 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50388 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50391 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50395 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50397 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53380 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53385 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53386 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53389 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52744 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52747 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52751 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52753 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59987 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59991 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59993 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60244 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60336 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61359 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61361 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59230 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64902 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64907 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64908 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64911 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61857 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61861 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61863 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61866 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54867 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54869 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54872 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54875 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62317 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62321 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62323 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62326 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51398 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51402 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51404 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51407 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63959 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63962 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49330 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49333 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53894 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53897 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53900 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53903 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49170 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49173 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49176 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49179 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50237 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50240 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50243 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50246 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59778 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59781 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59784 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59787 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59879 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59884 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59885 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59888 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55559 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53201 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53204 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52100 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61165 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61168 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61171 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61174 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56445 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56447 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56450 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56453 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63943 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63946 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63949 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63952 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63757 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63761 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63763 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63766 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65135 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65139 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65142 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65145 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64280 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64282 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63954 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62323 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63525 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63529 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63531 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63534 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57776 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57779 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57783 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57785 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57163 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57167 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57169 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57172 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55248 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55253 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55255 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55257 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54306 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58953 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58955 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58958 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52155 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55143 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55146 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55149 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51448 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51451 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51454 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51457 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52351 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52354 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52357 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52360 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55751 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55754 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55757 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55760 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59485 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59490 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59491 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59494 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59588 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59593 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59594 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59597 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53693 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64519 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64521 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64524 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49981 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49987 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49988 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49990 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60878 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60881 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60884 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60887 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65247 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65250 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65252 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65255 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54847 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54850 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54853 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54856 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59037 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59040 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59043 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59046 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64183 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55784 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61598 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61600 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65502 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65505 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65508 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65511 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58654 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58659 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58660 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58663 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58757 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58760 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58763 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58766 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55750 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55753 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55756 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55759 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58311 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58315 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58317 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58320 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63662 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55428 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55430 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55432 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53784 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53789 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53790 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53793 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49548 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49553 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49554 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49557 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54438 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54441 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54444 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54447 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61626 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61630 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61632 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61635 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61729 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61734 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61735 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61738 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56803 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56806 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58327 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58330 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57501 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57506 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57508 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57510 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54212 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54215 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54218 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54221 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55695 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55698 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55701 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55704 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59809 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59814 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59815 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59818 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56243 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56249 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56251 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56254 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57427 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65306 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65308 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65311 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56667 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56670 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56674 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56676 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62049 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62054 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62055 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62058 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64047 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64050 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64053 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64056 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60796 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60801 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60802 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60805 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49443 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49446 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57578 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57581 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56782 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64592 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64595 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64597 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65456 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65460 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65463 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65465 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49173 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49179 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49180 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49182 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51241 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51243 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51246 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51249 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63031 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63036 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63037 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63040 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63131 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63135 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63137 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63140 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64240 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64243 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64246 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56041 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64932 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64937 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64938 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64941 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65529 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65533 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49152 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49155 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54177 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54180 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54183 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54186 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58090 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58093 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58096 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58099 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64213 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64218 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64219 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64222 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57148 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60787 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60788 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60791 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55990 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55993 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55996 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55999 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64754 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64757 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64760 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64763 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55192 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55196 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55198 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65138 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53013 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53017 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53019 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53022 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53648 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53651 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53654 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53657 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55058 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55063 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55064 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55065 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55066 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63611 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63616 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63624 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63626 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63625 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63627 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63632 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63635 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63637 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63638 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63645 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63648 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63000 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63003 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63006 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63010 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63016 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63014 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63019 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63764 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63772 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63773 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63776 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63777 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63788 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63792 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63791 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63797 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63800 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63801 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63805 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63808 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63812 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63821 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63824 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63828 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63833 - "GET /api/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:63834 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63838 - "GET /api/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:63840 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63849 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63853 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63854 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63855 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63861 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63864 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63865 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63867 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63872 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63880 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63888 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63896 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63904 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59920 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59922 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51974 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51982 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51993 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61350 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55023 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57713 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63789 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63797 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54622 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62065 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62076 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62084 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62490 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62499 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62538 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62547 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62548 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:62551 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62552 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62558 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62560 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:62563 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62564 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62568 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62576 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62578 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62582 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62591 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62595 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62594 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62599 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59249 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59250 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59254 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59264 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59265 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59267 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59271 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59280 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59281 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59285 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59295 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59298 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59301 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59305 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59313 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59315 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59319 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59326 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59329 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59332 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59336 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59345 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59346 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59350 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59359 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59362 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59363 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59367 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59376 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59377 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59381 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59393 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59394 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59395 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59399 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59408 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59409 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59413 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51492 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51495 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51498 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51501 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49824 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49827 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49830 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49833 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49900 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49899 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:49901 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49902 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49903 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49913 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49914 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49916 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49922 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49928 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49931 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49936 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49944 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49953 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49961 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57290 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57296 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57300 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57302 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57301 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57311 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57312 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57313 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57314 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57323 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57328 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57330 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57338 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57344 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57348 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57349 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57350 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57358 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57362 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57361 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57367 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57369 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57371 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57382 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57388 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57393 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57392 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57394 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57402 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57403 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57404 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57406 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57418 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57419 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57420 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57436 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57442 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57443 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57444 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57454 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57457 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57459 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57470 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57471 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57474 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57476 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57496 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57500 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57502 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57515 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57516 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57520 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57519 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57530 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57533 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57534 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57546 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57550 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57551 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57552 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63734 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63735 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63736 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63749 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63750 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63753 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63754 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63765 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63768 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63769 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63783 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63787 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63790 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63793 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55789 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55794 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55797 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55798 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55823 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55829 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55833 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55834 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55837 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55839 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55844 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55847 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55848 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59972 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59979 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59980 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59989 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59995 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59997 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60000 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60009 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60018 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60019 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60025 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60035 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60038 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60040 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60046 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60057 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60058 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60071 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60075 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60074 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60088 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60093 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60097 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60099 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61420 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56358 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56403 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56406 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56409 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56412 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56482 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56487 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56488 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56491 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56563 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56566 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56569 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56572 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64672 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64675 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64678 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64681 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62536 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62539 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62542 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62545 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54224 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54227 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54230 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54233 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54300 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54303 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54306 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54309 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55187 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55190 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55194 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55196 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56397 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56400 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56404 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56406 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49403 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49407 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49409 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49412 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58283 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58286 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58289 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58292 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58399 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58402 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58405 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58408 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58476 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58479 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58482 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58485 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58550 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58553 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58556 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58559 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51274 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51277 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51282 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51283 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53198 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53201 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53205 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53207 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62524 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62527 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62530 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62533 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65197 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65200 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65204 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65206 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59010 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59014 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51065 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51068 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62120 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62123 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62127 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62129 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64214 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64217 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64220 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64223 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53541 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53544 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53547 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53550 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56327 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56330 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56334 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56336 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60716 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60719 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60724 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60725 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58017 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58020 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58023 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58026 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61888 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61891 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61894 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61897 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51525 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51528 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51531 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51534 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61650 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61653 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61656 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61659 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50926 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50929 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50933 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50935 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64107 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64110 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64114 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64116 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58187 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58191 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58193 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58196 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63446 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63449 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63453 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63455 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63524 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63527 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63530 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63533 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52872 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52875 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52878 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52881 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52946 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52949 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52952 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52955 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65004 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65007 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65010 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65013 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49648 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49651 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49654 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49657 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61144 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61147 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61151 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61153 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61221 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61224 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61227 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61230 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61835 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61839 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61841 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61844 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56131 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56134 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56137 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56140 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63803 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63806 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63810 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63812 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63880 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63884 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63886 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63889 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58135 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58139 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58142 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58144 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62032 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62036 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62038 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62041 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58824 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58827 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58830 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58833 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55831 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55834 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55837 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55840 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62993 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62997 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63000 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63002 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62550 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62553 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62556 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62559 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64673 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64676 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64679 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64682 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63448 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63451 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63454 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63457 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58458 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58461 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58465 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58467 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54904 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54908 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54911 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54913 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53414 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53417 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53420 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53423 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60107 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60110 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60113 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60116 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62990 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62993 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62996 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62999 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53993 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53996 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53999 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54002 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51306 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51309 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51312 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51315 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59352 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59356 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59358 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59361 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59428 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59431 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59435 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59437 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60738 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60741 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60744 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60747 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59347 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59350 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59353 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59356 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58271 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58274 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58277 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58280 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58210 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58213 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58216 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58219 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61245 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61248 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61252 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61254 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56109 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56112 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56116 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56118 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62172 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62175 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62179 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62181 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62247 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62250 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62253 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62256 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53696 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53699 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53702 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53705 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62635 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62638 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62641 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62644 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51063 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51066 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51069 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51072 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60918 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60921 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60925 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60927 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58908 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58912 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58914 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58917 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58983 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58987 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58989 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58992 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59060 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59065 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59382 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59068 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64923 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64926 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64929 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64932 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64296 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64299 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64302 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64305 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50504 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50507 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50510 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50513 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50604 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50607 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50611 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50613 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50680 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50684 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50686 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50689 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49761 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49764 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49768 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59400 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52739 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52742 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52745 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52748 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62867 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62870 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62874 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62876 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51925 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51928 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51932 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51934 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54739 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54744 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54745 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54748 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51219 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51222 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51226 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51228 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61240 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61243 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61246 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61249 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64503 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64506 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64509 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64512 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51452 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51455 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51458 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51461 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54880 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54885 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54889 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54891 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [11320]
WARNING:  WatchFiles detected changes in 'test_endpoints.py', 'test_schema_alignment.py', 'scripts\check_analytics.py', 'debug_api_responses.py', 'scripts\generate_massive_data.py', 'src\soft\api\analytics_router.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [17112]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [17336]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /api/status/status
INFO:smartlinks:GET    /api/status/status/health
INFO:smartlinks:GET    /api/status/status/services
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:49478 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49481 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49485 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49487 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51570 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51574 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51577 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53481 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59203 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59206 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59209 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59212 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63319 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63322 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63325 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63328 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64389 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64391 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64394 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64397 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52508 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52511 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52514 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52517 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59232 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59237 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59240 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59241 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54316 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54319 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54322 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54325 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51676 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51679 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51682 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51685 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56418 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56421 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56425 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56427 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58560 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58563 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58566 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58569 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58890 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58893 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58897 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58899 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58965 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58968 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58972 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58974 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62703 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62706 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62709 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62712 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52844 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52847 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52851 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52853 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54052 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54055 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54058 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54061 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52059 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52060 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52063 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52066 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50522 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50525 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50528 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50531 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62421 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62424 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62427 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62430 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51771 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51774 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51777 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51780 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60989 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60992 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60995 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60998 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61067 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61070 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61073 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61076 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49838 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49841 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49844 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49847 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57285 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57290 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57292 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57299 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57300 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57304 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57303 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57309 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57310 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57317 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57331 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57332 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57338 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57343 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57347 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57349 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57360 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63151 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60933 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60932 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:60931 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60934 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60940 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60942 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60945 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:60946 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60955 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60961 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60962 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60970 - "GET /api/health HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'src\soft\api\analytics_router.py'. Reloading...
INFO:     127.0.0.1:60981 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60982 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:60986 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60985 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60993 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60999 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61000 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61006 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:61009 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61016 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61024 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61025 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61027 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61029 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61032 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:61035 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61041 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:61044 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61048 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61053 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61055 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61062 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61069 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61073 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61074 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61075 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61082 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61088 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61089 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61096 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61103 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61108 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61109 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61107 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61119 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61125 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61126 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60361 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60371 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60373 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60372 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:60374 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60384 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60391 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60392 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60401 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60411 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60412 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:60413 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60414 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60424 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60432 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60433 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60442 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60452 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60453 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:60456 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60457 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60465 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60471 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60472 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60479 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60487 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60488 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:60492 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60491 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51260 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51268 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51269 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51279 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51287 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51290 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51289 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51291 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51299 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51305 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51306 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51313 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51322 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51323 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51324 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51326 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51333 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51339 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51340 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61604 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61612 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61615 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61616 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61617 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61624 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61629 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61631 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61638 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61646 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61647 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61651 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61650 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61662 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61668 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61669 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61676 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61686 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61687 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61688 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61689 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61696 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61702 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61703 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61711 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61722 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61721 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61723 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61724 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61732 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61738 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61739 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61746 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61754 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61755 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61759 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61758 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61768 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61774 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61775 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61782 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61790 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61791 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61795 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61794 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61805 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61811 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61812 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56549 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56556 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56561 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56560 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56562 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56569 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56575 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56576 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56582 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56591 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56592 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56595 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56596 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56605 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56613 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56614 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56621 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56629 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56630 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56633 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56634 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56641 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56647 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56648 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56655 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56663 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56664 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56667 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56668 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56676 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56684 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56685 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62325 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62334 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62335 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:62337 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62338 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62345 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62351 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62352 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62359 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62368 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62369 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:62370 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62372 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62379 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62385 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62386 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58402 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58410 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58411 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58415 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58414 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58422 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58428 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58429 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58436 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58444 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58445 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58449 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58448 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58458 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58464 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58465 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58472 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58480 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58481 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58485 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58484 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58492 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58498 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58499 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58506 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58517 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58518 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58516 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58519 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58526 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58532 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58533 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64486 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64493 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64497 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64498 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64499 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64506 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64512 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64513 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64520 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64529 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64530 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64531 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64533 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64540 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64546 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64547 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59601 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59608 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59613 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:59612 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59614 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59621 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59624 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59627 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59636 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59645 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59652 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59660 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59671 - "GET /api/services/status HTTP/1.1" 200 OK
2025-08-19 21:11:38,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:11:38,688 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:11:38,689 INFO sqlalchemy.engine.Engine [generated in 0.00029s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00029s] ()
2025-08-19 21:11:38,691 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:11:38,691 INFO sqlalchemy.engine.Engine [generated in 0.00025s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00025s] ()
2025-08-19 21:11:38,693 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:11:38,693 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00021s] ()
INFO:     Shutting down
2025-08-19 21:11:38,695 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:59670 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [17336]
WARNING:  WatchFiles detected changes in 'src\soft\router.py', 'test_final_alignment.py', 'src\soft\api\analytics_schema_router.py', 'src\soft\api\analytics_router.py'. Reloading...
Process SpawnProcess-40:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 16, in <module>
    from .api import (
  File "c:\smartlinks-autopilot\src\soft\api\__init__.py", line 1, in <module>
    from .analytics_router import router as analytics_router
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 18, in <module>
    class DeviceStats(BaseModel):
                      ^^^^^^^^^
NameError: name 'BaseModel' is not defined
Process SpawnProcess-41:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 16, in <module>
    from .api import (
  File "c:\smartlinks-autopilot\src\soft\api\__init__.py", line 1, in <module>
    from .analytics_router import router as analytics_router
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 18, in <module>
    class DeviceStats(BaseModel):
                      ^^^^^^^^^
NameError: name 'BaseModel' is not defined
WARNING:  WatchFiles detected changes in 'src\soft\api\analytics_router.py'. Reloading...
Process SpawnProcess-42:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 16, in <module>
    from .api import (
  File "c:\smartlinks-autopilot\src\soft\api\__init__.py", line 1, in <module>
    from .analytics_router import router as analytics_router
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 195, in <module>
    start_date: Optional[date] = Query(None, description="Start date (YYYY-MM-DD)"),
                         ^^^^
NameError: name 'date' is not defined
WARNING:  WatchFiles detected changes in 'src\soft\router.py'. Reloading...
Process SpawnProcess-43:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 16, in <module>
    from .api import (
  File "c:\smartlinks-autopilot\src\soft\api\__init__.py", line 1, in <module>
    from .analytics_router import router as analytics_router
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 195, in <module>
    start_date: Optional[date] = Query(None, description="Start date (YYYY-MM-DD)"),
                         ^^^^
NameError: name 'date' is not defined
WARNING:  WatchFiles detected changes in 'src\soft\api\analytics_router.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
Process SpawnProcess-44:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 87, in <module>
    app.include_router(status_router, prefix="/api/status")
                       ^^^^^^^^^^^^^
NameError: name 'status_router' is not defined
WARNING:  WatchFiles detected changes in 'src\soft\router.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [12580]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:52982 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51915 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51910 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51916 - "GET /api/stats HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'test_backend_final.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [12580]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [12372]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:51827 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51829 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51828 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51830 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62723 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:62731 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62732 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62733 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62734 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62753 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62755 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62763 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62761 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62762 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:62764 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62773 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:62774 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62775 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62776 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62782 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:62785 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62789 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:62792 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62795 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52939 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52940 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52943 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:52946 - "GET /api/health HTTP/1.1" 200 OK
ERROR:src.soft.api.analytics_router:Error in get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 207, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined
2025-08-19 21:19:10,581 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:19:10,604 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:19:10,604 INFO sqlalchemy.engine.Engine [generated in 0.00041s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00041s] ()
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 61, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 297, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 210, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 289, in get_click_history
    status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                ^^^^^^
NameError: name 'status' is not defined
INFO:     127.0.0.1:52954 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
2025-08-19 21:19:10,624 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:19:10,630 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:19:10,630 INFO sqlalchemy.engine.Engine [generated in 0.00052s] (0, 'approved', 1753039150, 1755631150, 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00052s] (0, 'approved', 1753039150, 1755631150, 10, 0)
2025-08-19 21:19:10,644 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:19:10,644 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:52957 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:52958 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
ERROR:src.soft.api.analytics_router:Error in get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 207, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 61, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 297, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 210, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 289, in get_click_history
    status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                ^^^^^^
NameError: name 'status' is not defined
INFO:     127.0.0.1:52961 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
2025-08-19 21:19:10,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:19:10,679 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:19:10,679 INFO sqlalchemy.engine.Engine [cached since 0.04999s ago] (0, 'approved', 1753039150, 1755631150, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.04999s ago] (0, 'approved', 1753039150, 1755631150, 10, 0)
2025-08-19 21:19:10,683 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:19:10,683 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:19:10,683 INFO sqlalchemy.engine.Engine [cached since 0.07977s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.07977s ago] ()
2025-08-19 21:19:10,692 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:19:10,692 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:52968 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52966 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:52973 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52980 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52984 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52985 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52986 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52992 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52998 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52996 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52997 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53002 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53005 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
ERROR:src.soft.api.analytics_router:Error in get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 207, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 61, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 297, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 210, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 289, in get_click_history
    status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                ^^^^^^
NameError: name 'status' is not defined
INFO:     127.0.0.1:53010 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
ERROR:src.soft.api.analytics_router:Error in get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 207, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 61, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 297, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 210, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 289, in get_click_history
    status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                ^^^^^^
NameError: name 'status' is not defined
INFO:     127.0.0.1:53013 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:53017 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53023 - "GET /api/services/status HTTP/1.1" 200 OK
2025-08-19 21:19:17,402 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:19:17,406 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:19:17,406 INFO sqlalchemy.engine.Engine [generated in 0.00065s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00065s] ()
2025-08-19 21:19:17,411 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:19:17,411 INFO sqlalchemy.engine.Engine [generated in 0.00225s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00225s] ()
2025-08-19 21:19:17,418 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:19:17,418 INFO sqlalchemy.engine.Engine [generated in 0.00039s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00039s] ()
INFO:     127.0.0.1:53026 - "GET /api/services/status HTTP/1.1" 200 OK
2025-08-19 21:19:17,420 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53022 - "GET /api/settings HTTP/1.1" 200 OK
2025-08-19 21:19:17,435 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:19:17,437 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:19:17,437 INFO sqlalchemy.engine.Engine [cached since 0.03168s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.03168s ago] ()
2025-08-19 21:19:17,438 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:19:17,438 INFO sqlalchemy.engine.Engine [cached since 0.02937s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.02937s ago] ()
2025-08-19 21:19:17,439 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:19:17,439 INFO sqlalchemy.engine.Engine [cached since 0.02203s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.02203s ago] ()
2025-08-19 21:19:17,441 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53029 - "GET /api/settings HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'test_all_endpoints.py'. Reloading...
INFO:     127.0.0.1:53113 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53115 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53120 - "GET /api/services/status HTTP/1.1" 200 OK
2025-08-19 21:20:07,055 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:20:07,056 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:20:07,056 INFO sqlalchemy.engine.Engine [cached since 49.65s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 49.65s ago] ()
2025-08-19 21:20:07,057 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:20:07,057 INFO sqlalchemy.engine.Engine [cached since 49.65s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 49.65s ago] ()
2025-08-19 21:20:07,057 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:20:07,059 INFO sqlalchemy.engine.Engine [cached since 49.64s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 49.64s ago] ()
2025-08-19 21:20:07,062 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53119 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:53122 - "GET /api/services/status HTTP/1.1" 200 OK
2025-08-19 21:20:07,171 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:20:07,173 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:20:07,173 INFO sqlalchemy.engine.Engine [cached since 49.77s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 49.77s ago] ()
2025-08-19 21:20:07,173 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:20:07,173 INFO sqlalchemy.engine.Engine [cached since 49.76s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 49.76s ago] ()
2025-08-19 21:20:07,175 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:20:07,175 INFO sqlalchemy.engine.Engine [cached since 49.76s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 49.76s ago] ()
2025-08-19 21:20:07,175 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53125 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:51250 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51252 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51258 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51260 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51259 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51261 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51269 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51270 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51273 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51274 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51285 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51290 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51291 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51301 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:51305 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51310 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:51312 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51315 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51319 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:51321 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51326 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51331 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51330 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51332 - "GET /api/stats HTTP/1.1" 200 OK
ERROR:src.soft.api.analytics_router:Error in get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 207, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined
2025-08-19 21:20:30,978 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:20:30,980 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:20:30,980 INFO sqlalchemy.engine.Engine [cached since 80.37s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 80.37s ago] ()
2025-08-19 21:20:30,985 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:20:30,986 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:20:30,986 INFO sqlalchemy.engine.Engine [cached since 80.36s ago] (0, 'approved', 1753039230, 1755631230, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 80.36s ago] (0, 'approved', 1753039230, 1755631230, 10, 0)
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 61, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 297, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 210, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 289, in get_click_history
    status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                ^^^^^^
NameError: name 'status' is not defined
INFO:     127.0.0.1:51339 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
2025-08-19 21:20:31,001 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:20:31,001 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51342 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:51343 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
ERROR:src.soft.api.analytics_router:Error in get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 207, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 61, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 297, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 210, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 289, in get_click_history
    status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                ^^^^^^
NameError: name 'status' is not defined
INFO:     127.0.0.1:51347 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     Shutting down
2025-08-19 21:20:31,060 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:20:31,060 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:20:31,061 INFO sqlalchemy.engine.Engine [cached since 80.46s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 80.46s ago] ()
2025-08-19 21:20:31,070 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:20:31,071 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:20:31,071 INFO sqlalchemy.engine.Engine [cached since 80.44s ago] (0, 'approved', 1753039231, 1755631231, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 80.44s ago] (0, 'approved', 1753039231, 1755631231, 10, 0)
2025-08-19 21:20:31,080 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:20:31,080 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51350 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:51352 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [12372]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [14532]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:51360 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62234 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62243 - "GET /api/health HTTP/1.1" 200 OK
ERROR:src.soft.api.analytics_router:Error in get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 207, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 61, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 297, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 210, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 289, in get_click_history
    status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                ^^^^^^
NameError: name 'status' is not defined
INFO:     127.0.0.1:62247 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
ERROR:src.soft.api.analytics_router:Error in get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 207, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 61, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 297, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 210, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 289, in get_click_history
    status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                ^^^^^^
NameError: name 'status' is not defined
INFO:     127.0.0.1:62250 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:62259 - "GET /api/services/status HTTP/1.1" 200 OK
2025-08-19 21:20:46,258 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:20:46,262 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:20:46,262 INFO sqlalchemy.engine.Engine [generated in 0.00031s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00031s] ()
2025-08-19 21:20:46,277 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:20:46,277 INFO sqlalchemy.engine.Engine [generated in 0.00039s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00039s] ()
2025-08-19 21:20:46,280 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:20:46,281 INFO sqlalchemy.engine.Engine [generated in 0.00043s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00043s] ()
2025-08-19 21:20:46,292 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:62258 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:62262 - "GET /api/services/status HTTP/1.1" 200 OK
2025-08-19 21:20:46,328 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:20:46,328 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:20:46,330 INFO sqlalchemy.engine.Engine [cached since 0.06806s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.06806s ago] ()
2025-08-19 21:20:46,333 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:20:46,334 INFO sqlalchemy.engine.Engine [cached since 0.057s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.057s ago] ()
2025-08-19 21:20:46,335 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:20:46,335 INFO sqlalchemy.engine.Engine [cached since 0.05566s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.05566s ago] ()
2025-08-19 21:20:46,337 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:62265 - "GET /api/settings HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'src\soft\api\analytics_router.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14532]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [1568]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src\soft\api\analytics_router.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [1568]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [292]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src\soft\api\analytics_router.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [292]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [9352]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'src\soft\api\settings_router.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [9352]
Process SpawnProcess-51:
Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 65, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 69, in serve
    await self._serve(sockets)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\server.py", line 76, in _serve
    config.load()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\config.py", line 434, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\router.py", line 30, in <module>
    from .api.settings_router import router as settings_router
  File "c:\smartlinks-autopilot\src\soft\api\settings_router.py", line 66
    ]
    ^
SyntaxError: closing parenthesis ']' does not match opening parenthesis '(' on line 56
WARNING:  WatchFiles detected changes in 'src\soft\api\settings_router.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [8128]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:52338 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52340 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52348 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 21:28:31,368 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:28:31,371 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:28:31,371 INFO sqlalchemy.engine.Engine [generated in 0.00024s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00024s] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 21:28:31,371 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:28:31,371 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00021s] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 21:28:31,377 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:28:31,377 INFO sqlalchemy.engine.Engine [generated in 0.00028s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00028s] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 21:28:31,382 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:52351 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52346 - "GET /api/settings HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 21:28:31,392 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:28:31,396 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:28:31,397 INFO sqlalchemy.engine.Engine [cached since 0.02392s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.02392s ago] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 21:28:31,398 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:28:31,399 INFO sqlalchemy.engine.Engine [cached since 0.02368s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.02368s ago] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 21:28:31,399 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:28:31,399 INFO sqlalchemy.engine.Engine [cached since 0.0234s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.0234s ago] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 21:28:31,401 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:52355 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:51565 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51568 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51576 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 21:29:29,355 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:29:29,355 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:29:29,356 INFO sqlalchemy.engine.Engine [cached since 57.98s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 57.98s ago] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 21:29:29,357 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:29:29,357 INFO sqlalchemy.engine.Engine [cached since 57.98s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 57.98s ago] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 21:29:29,359 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:29:29,359 INFO sqlalchemy.engine.Engine [cached since 57.98s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 57.98s ago] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 21:29:29,360 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51575 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:51580 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 21:29:29,376 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:29:29,376 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:29:29,376 INFO sqlalchemy.engine.Engine [cached since 58s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 58s ago] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 21:29:29,378 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:29:29,378 INFO sqlalchemy.engine.Engine [cached since 58s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 58s ago] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 21:29:29,379 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:29:29,380 INFO sqlalchemy.engine.Engine [cached since 58s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 58s ago] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 21:29:29,381 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51582 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:51592 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63169 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63180 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63190 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63200 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63210 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63220 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:63226 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:63229 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:63234 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63237 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63242 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:30:08,704 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:30:08,710 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:30:08,710 INFO sqlalchemy.engine.Engine [generated in 0.00053s] (0,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00053s] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

2025-08-19 21:30:08,720 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:30:08,723 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:30:08,731 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:30:08,731 INFO sqlalchemy.engine.Engine [generated in 0.00049s] (0, 'approved', 1753039808, 1755631808, 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00049s] (0, 'approved', 1753039808, 1755631808, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:     127.0.0.1:63254 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:63253 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
2025-08-19 21:30:08,738 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63256 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:30:08,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:30:08,816 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:30:08,816 INFO sqlalchemy.engine.Engine [cached since 0.1051s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1051s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:     127.0.0.1:63260 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
2025-08-19 21:30:08,824 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:30:08,856 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:30:08,857 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:30:08,872 INFO sqlalchemy.engine.Engine [cached since 0.1411s ago] (0, 'approved', 1753039808, 1755631808, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1411s ago] (0, 'approved', 1753039808, 1755631808, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 21:30:08,881 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63263 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:63265 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63272 - "GET /analytics HTTP/1.1" 404 Not Found
WARNING:  WatchFiles detected changes in 'test_empty_database.py'. Reloading...
INFO:     127.0.0.1:63299 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63302 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63308 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63310 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63317 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63318 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63319 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63320 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63328 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63329 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63330 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63332 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63339 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63342 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63345 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63350 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63353 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63358 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63361 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63365 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63367 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63373 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63390 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63395 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63396 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63404 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63412 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63415 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63421 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63428 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63431 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63434 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63443 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63450 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63453 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63459 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63467 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63470 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63473 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63479 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65270 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65273 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65278 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65288 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65291 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65294 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65301 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58623 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58625 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58631 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58635 - "GET /api/status HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:31:12,836 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:31:12,836 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:31:12,836 INFO sqlalchemy.engine.Engine [cached since 64.11s ago] (0, 'approved', 1753039872, 1755631872, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 64.11s ago] (0, 'approved', 1753039872, 1755631872, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:31:12,846 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:31:12,848 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:31:12,848 INFO sqlalchemy.engine.Engine [cached since 64.14s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 64.14s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:     Shutting down
2025-08-19 21:31:12,855 INFO sqlalchemy.engine.Engine ROLLBACK
2025-08-19 21:31:12,855 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:58642 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:58645 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58646 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [8128]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [14724]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:58663 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58670 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:31:22,557 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:31:22,590 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:31:22,590 INFO sqlalchemy.engine.Engine [generated in 0.00033s] (0, 'approved', 1753039882, 1755631882, 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00033s] (0, 'approved', 1753039882, 1755631882, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 21:31:22,597 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:31:22,597 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:31:22,597 INFO sqlalchemy.engine.Engine [generated in 0.00022s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00022s] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 21:31:22,663 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:31:22,664 INFO sqlalchemy.engine.Engine [generated in 0.00176s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00176s] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 21:31:22,674 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:31:22,674 INFO sqlalchemy.engine.Engine [generated in 0.00048s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00048s] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:31:22,691 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:31:22,694 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:31:22,694 INFO sqlalchemy.engine.Engine [generated in 0.00047s] (0,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00047s] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 21:31:22,703 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:31:22,705 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:31:22,705 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:58654 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58651 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:58676 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:58656 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:58695 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58692 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58690 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 21:31:22,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:31:22,781 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 21:31:22,781 INFO sqlalchemy.engine.Engine [cached since 0.1825s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.1825s ago] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 21:31:22,782 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 21:31:22,783 INFO sqlalchemy.engine.Engine [cached since 0.1206s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.1206s ago] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 21:31:22,796 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 21:31:22,797 INFO sqlalchemy.engine.Engine [cached since 0.1236s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.1236s ago] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
INFO:     127.0.0.1:58701 - "GET /api/services/status HTTP/1.1" 200 OK
2025-08-19 21:31:22,810 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:58698 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:58711 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58721 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58732 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58742 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58752 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58763 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58773 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58784 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58793 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58797 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58798 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58799 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58806 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58807 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58811 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58810 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58818 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58821 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:58824 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58828 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:58831 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58838 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58839 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59748 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:59751 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52785 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52792 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52794 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52799 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52800 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52807 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52816 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52818 - "GET /api/stats HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:32:18,686 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:32:18,688 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:32:18,688 INFO sqlalchemy.engine.Engine [cached since 55.99s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 55.99s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:32:18,696 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:32:18,696 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:32:18,696 INFO sqlalchemy.engine.Engine [cached since 56.11s ago] (0, 'approved', 1753039938, 1755631938, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 56.11s ago] (0, 'approved', 1753039938, 1755631938, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 21:32:18,696 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:32:18,702 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:52828 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:52829 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:52830 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:32:18,747 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:32:18,747 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:32:18,747 INFO sqlalchemy.engine.Engine [cached since 56.06s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 56.06s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:32:18,753 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:32:18,753 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:32:18,753 INFO sqlalchemy.engine.Engine [cached since 56.16s ago] (0, 'approved', 1753039938, 1755631938, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 56.16s ago] (0, 'approved', 1753039938, 1755631938, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 21:32:18,760 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:52835 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
2025-08-19 21:32:18,760 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:52838 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:52839 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52844 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52856 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58263 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58273 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58282 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58293 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64050 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64062 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64072 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64100 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64107 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64118 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64131 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64142 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64255 - "GET /api/health HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'start_backend_debug.py'. Reloading...
INFO:     127.0.0.1:56884 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54326 - "GET /api/health HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [14724]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [2672]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'quick_backend_start.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [2672]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [13132]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:54451 - "GET /api/health HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'check_backend.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [13132]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [12004]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:55431 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50412 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62304 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62306 - "GET /analytics HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62328 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62331 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62339 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62342 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62341 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62340 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:62345 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62346 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62351 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62352 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:62360 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:62363 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62366 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62372 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62373 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62376 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:62379 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62384 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:62387 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62392 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:62397 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:40:39,581 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:40:39,609 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:40:39,609 INFO sqlalchemy.engine.Engine [generated in 0.00069s] (0,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00069s] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:40:39,629 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:40:39,632 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:40:39,632 INFO sqlalchemy.engine.Engine [generated in 0.00036s] (0, 'approved', 1753040439, 1755632439, 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00036s] (0, 'approved', 1753040439, 1755632439, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 21:40:39,641 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:40:39,645 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:62400 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:62401 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:62404 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:40:39,668 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:40:39,670 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:40:39,670 INFO sqlalchemy.engine.Engine [cached since 0.06191s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 0.06191s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 21:40:39,678 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:40:39,681 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:40:39,682 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:40:39,682 INFO sqlalchemy.engine.Engine [cached since 0.04905s ago] (0, 'approved', 1753040439, 1755632439, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.04905s ago] (0, 'approved', 1753040439, 1755632439, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:     127.0.0.1:62408 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
2025-08-19 21:40:39,685 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:62410 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62420 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62425 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62424 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:62426 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62432 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62435 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62436 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:62438 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62442 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:62445 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:40:44,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:40:44,635 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:40:44,635 INFO sqlalchemy.engine.Engine [cached since 5.026s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 5.026s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:40:44,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:40:44,639 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:40:44,639 INFO sqlalchemy.engine.Engine [cached since 5.005s ago] (0, 'approved', 1753040444, 1755632444, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5.005s ago] (0, 'approved', 1753040444, 1755632444, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

2025-08-19 21:40:44,643 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:40:44,643 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:62453 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62452 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:62454 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:40:44,665 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:40:44,667 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:40:44,667 INFO sqlalchemy.engine.Engine [cached since 5.033s ago] (0, 'approved', 1753040444, 1755632444, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5.033s ago] (0, 'approved', 1753040444, 1755632444, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:40:44,673 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:40:44,673 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:40:44,673 INFO sqlalchemy.engine.Engine [cached since 5.065s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 5.065s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 21:40:44,675 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:40:44,675 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:62459 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62460 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:62466 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62469 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62474 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62484 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62486 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62490 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62492 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62497 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:41:00,275 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:41:00,276 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:41:00,276 INFO sqlalchemy.engine.Engine [cached since 20.67s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 20.67s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 21:41:00,281 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:62508 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:41:00,285 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:41:00,285 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:41:00,287 INFO sqlalchemy.engine.Engine [cached since 20.65s ago] (0, 'approved', 1753040460, 1755632460, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 20.65s ago] (0, 'approved', 1753040460, 1755632460, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:     127.0.0.1:62509 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
2025-08-19 21:41:00,297 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:62511 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:62516 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:41:00,338 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:41:00,341 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:41:00,341 INFO sqlalchemy.engine.Engine [cached since 20.73s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 20.73s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:41:00,352 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:41:00,354 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:41:00,354 INFO sqlalchemy.engine.Engine [cached since 20.72s ago] (0, 'approved', 1753040460, 1755632460, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 20.72s ago] (0, 'approved', 1753040460, 1755632460, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 21:41:00,369 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:41:00,371 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:62519 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:62520 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62523 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62528 - "GET /analytics HTTP/1.1" 404 Not Found
WARNING:  WatchFiles detected changes in 'debug_analytics.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [12004]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [10160]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'fix_analytics.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10160]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [16168]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_backend_simple.py'. Reloading...
INFO:     127.0.0.1:60864 - "GET /analytics HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60886 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60888 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60891 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60893 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60899 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60905 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60903 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:60904 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60911 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60915 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60916 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:60917 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60922 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60929 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60931 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60937 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60939 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60943 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     Shutting down
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:46:07,914 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:46:07,957 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:46:07,959 INFO sqlalchemy.engine.Engine [generated in 0.00097s] (0,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00097s] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 21:46:07,971 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60951 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:60952 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16168]
WARNING:  WatchFiles detected changes in 'start_backend_final.py', 'test_backend_status.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [9160]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [15104]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:60992 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61020 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61015 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60989 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:60994 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:60997 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60990 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61023 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60991 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61011 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61027 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61029 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61032 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61036 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61252 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61255 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61257 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61264 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61273 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61274 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61279 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61287 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61288 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61290 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61301 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61311 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61312 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61317 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61325 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61328 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61331 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61336 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61344 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61345 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61352 - "GET /api/health HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'test_backend_connection.py'. Reloading...
INFO:     127.0.0.1:61359 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61362 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61366 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61377 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61386 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61388 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61393 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61400 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61403 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61406 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61411 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58311 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58313 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58318 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58326 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58327 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58330 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63970 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63973 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63976 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63979 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61631 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61634 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61637 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61640 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63595 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63598 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63601 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63605 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63682 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63686 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63688 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63691 - "GET /api/health HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15104]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4o, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [16008]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:63540 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63543 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63546 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63549 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60244 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60248 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60250 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60253 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60324 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:60329 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60330 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60332 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60331 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60341 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60343 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60347 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54415 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54414 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54416 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54420 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54424 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54428 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54431 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59279 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59287 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59297 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59305 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59313 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59321 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59329 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59337 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59345 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59353 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59362 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55500 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55508 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55517 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55527 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55536 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55544 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55555 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55556 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55557 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55558 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55565 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55566 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55569 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55570 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55577 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:55580 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:55583 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:55588 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55591 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55597 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55605 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55611 - "GET /api/clicks/recent?limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55616 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55624 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55631 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:56:06,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:56:06,956 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:56:06,956 INFO sqlalchemy.engine.Engine [generated in 0.00033s] (0,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00033s] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 21:56:06,963 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:56:06,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:56:06,971 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:56:06,973 INFO sqlalchemy.engine.Engine [generated in 0.00052s] (0, 'approved', 1753041366, 1755633366, 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00052s] (0, 'approved', 1753041366, 1755633366, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:     127.0.0.1:55639 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:55640 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
2025-08-19 21:56:06,977 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:55642 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 21:56:07,004 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:56:07,004 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 21:56:07,006 INFO sqlalchemy.engine.Engine [cached since 0.04756s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 0.04756s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 21:56:07,011 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 21:56:07,011 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 21:56:07,011 INFO sqlalchemy.engine.Engine [cached since 0.03977s ago] (0, 'approved', 1753041367, 1755633367, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.03977s ago] (0, 'approved', 1753041367, 1755633367, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 21:56:07,018 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 21:56:07,018 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:55650 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:55647 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:55651 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55659 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55663 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55664 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55665 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55672 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55673 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55677 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55676 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55681 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55690 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55691 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55695 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55706 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55707 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55710 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55711 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55715 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55725 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55726 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55730 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55739 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55742 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55744 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55749 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55757 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55758 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55763 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55773 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55774 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55775 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55779 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55787 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55789 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55794 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55802 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55804 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55806 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55811 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55819 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55820 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55825 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55834 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55838 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55837 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55844 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55852 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55853 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55858 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61780 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61783 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61785 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65531 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49156 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49157 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50207 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50215 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50218 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50219 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50223 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50233 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50234 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50239 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50298 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50301 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50304 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50307 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64596 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64601 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64603 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64606 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64743 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64746 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64752 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64749 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55569 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55574 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55575 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55576 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55577 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55593 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55595 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55601 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55602 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55604 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55603 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55611 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55615 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55616 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55617 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55301 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55304 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:55307 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55312 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55314 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55319 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:55322 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55327 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:55330 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55336 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55348 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55350 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55349 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55351 - "GET /api/stats HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 22:01:15,750 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:01:15,751 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 22:01:15,751 INFO sqlalchemy.engine.Engine [cached since 308.8s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 308.8s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 22:01:15,759 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:01:15,760 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 22:01:15,760 INFO sqlalchemy.engine.Engine [cached since 308.8s ago] (0, 'approved', 1753041675, 1755633675, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 308.8s ago] (0, 'approved', 1753041675, 1755633675, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 22:01:15,768 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 22:01:15,770 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:55363 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:55364 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:55365 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55370 - "POST /api/ai/dg HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:55373 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55379 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55380 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55387 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55401 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55398 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55399 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55400 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55420 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55425 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55426 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55434 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55439 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55441 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55442 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55444 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55453 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55460 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55461 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55469 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55477 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55481 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55482 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55483 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55492 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56128 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56129 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56138 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56144 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56147 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56150 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56163 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56172 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56175 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52232 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52239 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52241 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52243 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56073 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56077 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56080 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56090 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56095 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56097 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56100 - "GET /api/stats HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'test_analytics_endpoint.py'. Reloading...
INFO:     127.0.0.1:56113 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56118 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56120 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56131 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56137 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56139 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56142 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56151 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56162 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56166 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56181 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56186 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56188 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56191 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56200 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56205 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56207 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56224 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56229 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56231 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56234 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58268 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58272 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58274 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58312 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58315 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58318 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58321 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58146 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58149 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58152 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58155 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58279 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58282 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58285 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58288 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61322 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61327 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61328 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61329 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61330 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61351 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61354 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61361 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61362 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61364 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61363 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61370 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61371 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61374 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61375 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61382 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61388 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61390 - "GET /api/stats HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 22:05:45,339 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:05:45,341 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 22:05:45,342 INFO sqlalchemy.engine.Engine [cached since 578.4s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 578.4s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:     127.0.0.1:61395 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 22:05:45,351 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:05:45,351 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 22:05:45,353 INFO sqlalchemy.engine.Engine [cached since 578.4s ago] (0, 'approved', 1753041945, 1755633945, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 578.4s ago] (0, 'approved', 1753041945, 1755633945, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 22:05:45,366 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 22:05:45,367 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61398 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:61399 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:61402 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     Shutting down
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 22:05:45,426 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:05:45,430 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 22:05:45,430 INFO sqlalchemy.engine.Engine [cached since 578.5s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 578.5s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 22:05:45,436 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 22:05:45,439 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:05:45,439 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 22:05:45,440 INFO sqlalchemy.engine.Engine [cached since 578.5s ago] (0, 'approved', 1753041945, 1755633945, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 578.5s ago] (0, 'approved', 1753041945, 1755633945, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 22:05:45,446 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61406 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:61408 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16008]
WARNING:  WatchFiles detected changes in 'src\soft\router.py', 'debug_analytics_error.py', 'test_backend_fixes.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [16584]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [16644]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:61448 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61454 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61453 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61437 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61436 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61452 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61471 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:61477 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:61478 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:61479 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61481 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61480 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61486 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61489 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61490 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61494 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61496 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61499 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61503 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61506 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 22:06:07,796 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:06:07,828 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 22:06:07,828 INFO sqlalchemy.engine.Engine [generated in 0.00035s] (0, 'approved', 1753041967, 1755633967, 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00035s] (0, 'approved', 1753041967, 1755633967, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 22:06:07,840 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:06:07,843 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 22:06:07,843 INFO sqlalchemy.engine.Engine [generated in 0.00046s] (0,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00046s] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:     127.0.0.1:61515 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
2025-08-19 22:06:07,851 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 22:06:07,851 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61519 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61518 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:61523 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 22:06:07,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:06:08,003 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 22:06:08,003 INFO sqlalchemy.engine.Engine [cached since 0.1753s ago] (0, 'approved', 1753041967, 1755633967, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.1753s ago] (0, 'approved', 1753041967, 1755633967, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 22:06:08,011 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 22:06:08,012 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:06:08,017 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 22:06:08,018 INFO sqlalchemy.engine.Engine [cached since 0.1759s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 0.1759s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:     127.0.0.1:61526 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
2025-08-19 22:06:08,024 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61528 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:61533 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61536 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61539 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61550 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 22:06:12,591 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:06:12,594 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 22:06:12,594 INFO sqlalchemy.engine.Engine [generated in 0.00046s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00046s] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 22:06:12,598 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 22:06:12,598 INFO sqlalchemy.engine.Engine [generated in 0.00043s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00043s] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 22:06:12,600 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 22:06:12,600 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00042s] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 22:06:12,604 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61549 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:61555 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 22:06:12,644 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:06:12,644 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 22:06:12,645 INFO sqlalchemy.engine.Engine [cached since 0.05111s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.05111s ago] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 22:06:12,647 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 22:06:12,647 INFO sqlalchemy.engine.Engine [cached since 0.04986s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.04986s ago] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 22:06:12,648 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 22:06:12,648 INFO sqlalchemy.engine.Engine [cached since 0.04823s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.04823s ago] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 22:06:12,650 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61557 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:61562 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61571 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61577 - "GET /api/services/autopilot/logs HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61586 - "GET /api/services/probes/logs HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61589 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61596 - "GET /api/services/router/logs HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61602 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61615 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61626 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61636 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61647 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61652 - "POST /api/admin/seed HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61660 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61670 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61675 - "POST /api/admin/payouts HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61683 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:61686 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:61689 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 22:07:06,179 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:07:06,180 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 22:07:06,180 INFO sqlalchemy.engine.Engine [cached since 58.35s ago] (0, 'approved', 1753042026, 1755634026, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 58.35s ago] (0, 'approved', 1753042026, 1755634026, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:     127.0.0.1:61697 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 22:07:06,186 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:07:06,187 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 22:07:06,187 INFO sqlalchemy.engine.Engine [cached since 58.34s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 58.34s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 22:07:06,190 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61700 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
2025-08-19 22:07:06,196 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61701 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:     127.0.0.1:61705 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 22:07:06,244 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:07:06,245 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 22:07:06,245 INFO sqlalchemy.engine.Engine [cached since 58.42s ago] (0, 'approved', 1753042026, 1755634026, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 58.42s ago] (0, 'approved', 1753042026, 1755634026, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 22:07:06,415 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 22:07:06,418 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:07:06,418 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 22:07:06,418 INFO sqlalchemy.engine.Engine [cached since 58.58s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 58.58s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:     127.0.0.1:61708 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
2025-08-19 22:07:06,451 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61710 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:54911 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54912 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54914 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54913 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54923 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54924 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54926 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54925 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54932 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54941 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54942 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54948 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54951 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57740 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57744 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57745 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57746 - "GET /api/stats HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 22:07:18,440 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:07:18,651 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 22:07:18,651 INFO sqlalchemy.engine.Engine [cached since 70.81s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 70.81s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 22:07:18,656 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 22:07:18,659 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:07:18,659 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 22:07:18,659 INFO sqlalchemy.engine.Engine [cached since 70.83s ago] (0, 'approved', 1753042038, 1755634038, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 70.83s ago] (0, 'approved', 1753042038, 1755634038, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:     127.0.0.1:57754 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
2025-08-19 22:07:18,663 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:57756 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:57757 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57761 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57765 - "POST /api/ai/dg HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57773 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57774 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57780 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57793 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57797 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:57798 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57799 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57803 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57816 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57817 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57822 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57834 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57837 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57840 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57847 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57859 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57860 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57865 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53861 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53865 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53866 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53871 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63430 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63432 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63436 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63445 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63450 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63451 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63455 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55318 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55321 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55326 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54033 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54038 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54039 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54044 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54054 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54056 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54060 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54069 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54073 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54075 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54079 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54090 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54092 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54096 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54105 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54108 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54111 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54116 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50726 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50729 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50733 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50736 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50377 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50381 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50384 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50386 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63877 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63881 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63884 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63887 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61719 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61722 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61725 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61728 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60828 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60831 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60834 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52234 - "GET /api/health HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'openai_healthcheck.py'. Reloading...
INFO:     127.0.0.1:52339 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52343 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52346 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52349 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57800 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57804 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57806 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57809 - "GET /api/health HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [16644]
WARNING:  WatchFiles detected changes in 'test_openai_simple.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [10824]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [10500]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:55266 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55260 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55263 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55257 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'openai_diagnostic.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10500]
WARNING:  WatchFiles detected changes in 'openai_diagnostic.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [15420]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [3320]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:57420 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57423 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57426 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57429 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59550 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56526 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59423 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59426 - "GET /api/health HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'openai_health_final.py'. Reloading...
INFO:     127.0.0.1:53439 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53442 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53446 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53449 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58507 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58512 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58513 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58514 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58515 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58535 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58537 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58541 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58546 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58547 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58548 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58550 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58557 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58558 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58559 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58566 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:58569 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58573 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58576 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:58579 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58585 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58586 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58590 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:58593 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now(timezone.utc)
                       ^^^^^^^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 22:20:14,884 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:20:14,912 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 22:20:14,912 INFO sqlalchemy.engine.Engine [generated in 0.00054s] (0,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00054s] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 22:20:14,943 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 22:20:14,949 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 22:20:14,949 INFO sqlalchemy.engine.Engine [generated in 0.00041s] (0, 'approved', 1753042814, 1755634814, 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00041s] (0, 'approved', 1753042814, 1755634814, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:     Shutting down
2025-08-19 22:20:14,953 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:58601 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
2025-08-19 22:20:14,955 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:58602 - "GET /api/analytics/devices?time_range=7d HTTP/1.1" 200 OK
INFO:     127.0.0.1:58603 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [3320]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [10940]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:58613 - "POST /api/ai/dg HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:58626 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58610 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58622 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58621 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58625 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58634 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58640 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58641 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58649 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58659 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58660 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58661 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58662 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58676 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58682 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58683 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58692 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58699 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58700 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58701 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58702 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58711 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58717 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58718 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58727 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58734 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58737 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58738 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58740 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58749 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58756 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58757 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58765 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58776 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58782 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58781 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58780 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:58792 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58800 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58803 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58812 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59966 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59971 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59972 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59981 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59989 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59990 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59997 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60004 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60006 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60010 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60017 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60024 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60025 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60034 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60042 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60046 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60048 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60054 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60061 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60062 - "GET /api/stats HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'test_ai_endpoints.py'. Reloading...
INFO:     127.0.0.1:60075 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60082 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60086 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60089 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60095 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60102 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60104 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60111 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60118 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60121 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60123 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60130 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60138 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60139 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60147 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60153 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60156 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60159 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60181 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60184 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60187 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60190 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62287 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62290 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62293 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62296 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64276 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52896 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50124 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50127 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50233 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50238 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50240 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50243 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10940]
WARNING:  WatchFiles detected changes in 'test_ai_simple.py', 'debug_404_error.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [9844]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [5812]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:58747 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58752 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58755 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58756 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58851 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58856 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:58857 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:58860 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54149 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54154 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54155 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54156 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54157 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54167 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54174 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54178 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54177 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54183 - "POST /api/ai/dg HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:54189 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54195 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54197 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54200 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54208 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54217 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54218 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54219 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54228 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54234 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54235 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54238 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54247 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50156 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50158 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50159 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50168 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50176 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50177 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50180 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:54399 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54410 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54421 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54431 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54441 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54466 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54485 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54500 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65077 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65093 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65111 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65129 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65145 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50168 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51793 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54309 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64012 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64789 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64882 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65209 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59054 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63482 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60127 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63402 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50096 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55617 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64521 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55197 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54376 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64587 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62312 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50384 - "GET /api/health HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'src\backend\main.py'. Reloading...
INFO:     127.0.0.1:51649 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54436 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51592 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59025 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60038 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58559 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51159 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64848 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60206 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62167 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55269 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57819 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65300 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58353 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60607 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57512 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53364 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53507 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53509 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53521 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53535 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60267 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60278 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60291 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60303 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60317 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60407 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60858 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60869 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60883 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60892 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60912 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60924 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60933 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60952 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60987 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61003 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61013 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61026 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61038 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61146 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50380 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56257 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60256 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51500 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51517 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51520 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51530 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51532 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51533 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51534 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51540 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51541 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51544 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51545 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51549 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51560 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51562 - "GET /api/stats HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
ERROR:src.soft.api.analytics_router:Erreur get_click_history: name 'timezone' is not defined
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\api\analytics_router.py", line 365, in get_click_history
    now = datetime.now()
                       ^^
NameError: name 'timezone' is not defined

INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:13:00,389 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:13:00,450 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:13:00,450 INFO sqlalchemy.engine.Engine [generated in 0.00075s] (0, 'approved', 1753045980, 1755637980, 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00075s] (0, 'approved', 1753045980, 1755637980, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:13:00,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:13:00,490 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:13:00,490 INFO sqlalchemy.engine.Engine [generated in 0.00065s] (0,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00065s] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:     127.0.0.1:51569 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     Shutting down
2025-08-19 23:13:00,500 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:13:00,500 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51573 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51572 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [5812]
WARNING:  WatchFiles detected changes in 'scripts\cleanup.py', 'src\soft\router.py', 'scripts\cleanup_repo.py', 'project_structure.py', 'scripts\run_dev.py', 'src\soft\api\analytics_router.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [17740]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [18316]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:51620 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51654 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51657 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51651 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51663 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51660 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51676 - "GET /api/config HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51669 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51666 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51616 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51617 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51618 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51637 - "GET /api/config HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:51615 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51619 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51673 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:51639 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51648 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 23:13:21,352 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:13:21,356 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 23:13:21,356 INFO sqlalchemy.engine.Engine [generated in 0.00036s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00036s] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 23:13:21,363 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 23:13:21,363 INFO sqlalchemy.engine.Engine [generated in 0.00031s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00031s] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 23:13:21,367 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 23:13:21,368 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00042s] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 23:13:21,371 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51632 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:51684 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51688 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51689 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51685 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:51692 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51695 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51698 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51703 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:51706 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51715 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51716 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51721 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51733 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51737 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:51738 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51739 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51745 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51754 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51755 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51765 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51773 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51776 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51779 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51785 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51794 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51796 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51803 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51811 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51813 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51816 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51822 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51831 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51832 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51840 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51849 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51851 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51853 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51859 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51871 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51872 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51877 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51890 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51893 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51896 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51903 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51911 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51913 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51919 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51927 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51931 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51932 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51938 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51949 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51950 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51956 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51966 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51967 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51969 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51976 - "GET /health HTTP/1.1" 404 Not Found
2025-08-19 23:14:53,698 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:14:53,706 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT clicks.click_id AS clicks_click_id, clicks.ts AS clicks_ts, clicks.creator_id AS clicks_creator_id, clicks.slug AS clicks_slug, clicks.segment_id AS clicks_segment_id, clicks.geo AS clicks_geo, clicks.device AS clicks_device, clicks.fp AS clicks_fp, clicks.valid_final AS clicks_valid_final, clicks.risk AS clicks_risk, clicks.offer_id AS clicks_offer_id 
FROM clicks) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT clicks.click_id AS clicks_click_id, clicks.ts AS clicks_ts, clicks.creator_id AS clicks_creator_id, clicks.slug AS clicks_slug, clicks.segment_id AS clicks_segment_id, clicks.geo AS clicks_geo, clicks.device AS clicks_device, clicks.fp AS clicks_fp, clicks.valid_final AS clicks_valid_final, clicks.risk AS clicks_risk, clicks.offer_id AS clicks_offer_id 
FROM clicks) AS anon_1
2025-08-19 23:14:53,706 INFO sqlalchemy.engine.Engine [generated in 0.00034s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00034s] ()
2025-08-19 23:14:53,714 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT conversions.id AS conversions_id, conversions.ts AS conversions_ts, conversions.click_id AS conversions_click_id, conversions.offer_id AS conversions_offer_id, conversions.revenue AS conversions_revenue, conversions.status AS conversions_status 
FROM conversions) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT conversions.id AS conversions_id, conversions.ts AS conversions_ts, conversions.click_id AS conversions_click_id, conversions.offer_id AS conversions_offer_id, conversions.revenue AS conversions_revenue, conversions.status AS conversions_status 
FROM conversions) AS anon_1
2025-08-19 23:14:53,714 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00042s] ()
2025-08-19 23:14:53,715 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments) AS anon_1
2025-08-19 23:14:53,715 INFO sqlalchemy.engine.Engine [generated in 0.00025s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00025s] ()
2025-08-19 23:14:53,718 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers) AS anon_1
2025-08-19 23:14:53,718 INFO sqlalchemy.engine.Engine [generated in 0.00026s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00026s] ()
2025-08-19 23:14:53,792 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators) AS anon_1
2025-08-19 23:14:53,792 INFO sqlalchemy.engine.Engine [generated in 0.00027s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00027s] ()
2025-08-19 23:14:53,795 INFO sqlalchemy.engine.Engine SELECT clicks.click_id AS clicks_click_id, clicks.ts AS clicks_ts, clicks.creator_id AS clicks_creator_id, clicks.slug AS clicks_slug, clicks.segment_id AS clicks_segment_id, clicks.geo AS clicks_geo, clicks.device AS clicks_device, clicks.fp AS clicks_fp, clicks.valid_final AS clicks_valid_final, clicks.risk AS clicks_risk, clicks.offer_id AS clicks_offer_id 
FROM clicks ORDER BY clicks.ts DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.click_id AS clicks_click_id, clicks.ts AS clicks_ts, clicks.creator_id AS clicks_creator_id, clicks.slug AS clicks_slug, clicks.segment_id AS clicks_segment_id, clicks.geo AS clicks_geo, clicks.device AS clicks_device, clicks.fp AS clicks_fp, clicks.valid_final AS clicks_valid_final, clicks.risk AS clicks_risk, clicks.offer_id AS clicks_offer_id 
FROM clicks ORDER BY clicks.ts DESC
 LIMIT ? OFFSET ?
2025-08-19 23:14:53,796 INFO sqlalchemy.engine.Engine [generated in 0.00031s] (5, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00031s] (5, 0)
2025-08-19 23:14:53,796 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:52015 - "GET /api/analytics/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52043 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52047 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52049 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:52052 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
ERROR:src.soft.dg.api.endpoints.ia_supervisor:Error in get_status: 1 validation error for StatusResponse
available_algorithms.0
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.8/v/string_type
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\api\endpoints\ia_supervisor.py", line 133, in get_status
    return StatusResponse(**status_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\pydantic\main.py", line 193, in __init__
    self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for StatusResponse
available_algorithms.0
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.8/v/string_type
INFO:     127.0.0.1:49334 - "GET /api/ia/status HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:15:55,367 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:15:55,372 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:15:55,372 INFO sqlalchemy.engine.Engine [generated in 0.00043s] (0,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00043s] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 23:15:55,380 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49411 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:15:56,263 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:15:56,266 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:15:56,266 INFO sqlalchemy.engine.Engine [generated in 0.00045s] (0, 'approved', 1753046156, 1755638156, 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00045s] (0, 'approved', 1753046156, 1755638156, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 23:15:56,272 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49414 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=7, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1755033357 to 1755638157
2025-08-19 23:15:57,322 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:15:57,325 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:15:57,325 INFO sqlalchemy.engine.Engine [generated in 0.00029s] ('unixepoch', 0, 1755033357, 1755638157, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[generated in 0.00029s] ('unixepoch', 0, 1755033357, 1755638157, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 8 days, 1816 total clicks
2025-08-19 23:15:57,330 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 63, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 315, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 174, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'period', 'days'), 'msg': 'Input should be a valid string', 'input': 8}

INFO:     127.0.0.1:49419 - "GET /api/analytics/clicks/history?days=7 HTTP/1.1" 500 Internal Server Error
2025-08-19 23:15:58,131 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:15:58,132 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM segments LEFT OUTER JOIN clicks ON segments.segment_id = clicks.segment_id LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY segments.segment_id, segments.geo, segments.device 
HAVING count(clicks.click_id) > ? ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM segments LEFT OUTER JOIN clicks ON segments.segment_id = clicks.segment_id LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY segments.segment_id, segments.geo, segments.device 
HAVING count(clicks.click_id) > ? ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:15:58,132 INFO sqlalchemy.engine.Engine [generated in 0.00026s] (0, 'approved', 1753046158, 1755638158, 0, 20, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00026s] (0, 'approved', 1753046158, 1755638158, 0, 20, 0)
2025-08-19 23:15:58,136 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49421 - "GET /api/analytics/traffic-by-segment?days=30 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49441 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49444 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49447 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49450 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49630 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49633 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49636 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49639 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63207 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63210 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63213 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63216 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56900 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56903 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56906 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56909 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54559 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54562 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54565 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54568 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59761 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:59766 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59767 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59768 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59769 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59773 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59785 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59787 - "GET /api/stats HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753046424 to 1755638424
2025-08-19 23:20:24,302 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:24,304 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:20:24,304 INFO sqlalchemy.engine.Engine [cached since 267s ago] ('unixepoch', 0, 1753046424, 1755638424, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 267s ago] ('unixepoch', 0, 1753046424, 1755638424, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:20:24,314 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:20:24,326 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:24,326 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:20:24,326 INFO sqlalchemy.engine.Engine [cached since 269s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 269s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:20:24,335 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:24,335 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:20:24,335 INFO sqlalchemy.engine.Engine [cached since 268.1s ago] (0, 'approved', 1753046424, 1755638424, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 268.1s ago] (0, 'approved', 1753046424, 1755638424, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 63, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 315, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 174, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'period', 'days'), 'msg': 'Input should be a valid string', 'input': 31}

INFO:     127.0.0.1:59792 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
2025-08-19 23:20:24,354 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:20:24,354 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:59795 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59796 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753046424 to 1755638424
2025-08-19 23:20:24,451 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:24,452 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:20:24,452 INFO sqlalchemy.engine.Engine [cached since 267.1s ago] ('unixepoch', 0, 1753046424, 1755638424, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 267.1s ago] ('unixepoch', 0, 1753046424, 1755638424, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:20:24,461 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 63, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 315, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 174, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'period', 'days'), 'msg': 'Input should be a valid string', 'input': 31}

INFO:     127.0.0.1:59801 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:20:24,501 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:24,502 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:20:24,502 INFO sqlalchemy.engine.Engine [cached since 269.1s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 269.1s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 23:20:24,508 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:20:24,511 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:24,512 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:20:24,512 INFO sqlalchemy.engine.Engine [cached since 268.2s ago] (0, 'approved', 1753046424, 1755638424, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 268.2s ago] (0, 'approved', 1753046424, 1755638424, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:     127.0.0.1:59804 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
2025-08-19 23:20:24,528 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:59805 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59810 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59824 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59827 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753046429 to 1755638429
2025-08-19 23:20:29,690 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:29,692 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:20:29,692 INFO sqlalchemy.engine.Engine [cached since 272.4s ago] ('unixepoch', 0, 1753046429, 1755638429, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 272.4s ago] ('unixepoch', 0, 1753046429, 1755638429, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:20:29,700 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:20:29,705 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:29,707 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:20:29,707 INFO sqlalchemy.engine.Engine [cached since 273.4s ago] (0, 'approved', 1753046429, 1755638429, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 273.4s ago] (0, 'approved', 1753046429, 1755638429, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:20:29,715 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:29,715 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:20:29,715 INFO sqlalchemy.engine.Engine [cached since 274.3s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 274.3s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 63, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 315, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 174, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'period', 'days'), 'msg': 'Input should be a valid string', 'input': 31}

INFO:     127.0.0.1:59833 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
2025-08-19 23:20:29,729 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:20:29,730 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:59835 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59834 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753046429 to 1755638429
2025-08-19 23:20:29,758 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:29,770 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:20:29,770 INFO sqlalchemy.engine.Engine [cached since 272.4s ago] ('unixepoch', 0, 1753046429, 1755638429, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 272.4s ago] ('unixepoch', 0, 1753046429, 1755638429, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:20:29,793 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 63, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 315, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 174, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'period', 'days'), 'msg': 'Input should be a valid string', 'input': 31}

INFO:     127.0.0.1:59837 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:20:29,813 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:29,813 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:20:29,813 INFO sqlalchemy.engine.Engine [cached since 274.4s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 274.4s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:20:29,830 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:29,830 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:20:29,830 INFO sqlalchemy.engine.Engine [cached since 273.6s ago] (0, 'approved', 1753046429, 1755638429, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 273.6s ago] (0, 'approved', 1753046429, 1755638429, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 23:20:29,839 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:20:29,839 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:59840 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59841 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59850 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753046433 to 1755638433
2025-08-19 23:20:33,960 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:33,961 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:20:33,961 INFO sqlalchemy.engine.Engine [cached since 276.6s ago] ('unixepoch', 0, 1753046433, 1755638433, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 276.6s ago] ('unixepoch', 0, 1753046433, 1755638433, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:20:33,970 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 63, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 315, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 174, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'period', 'days'), 'msg': 'Input should be a valid string', 'input': 31}

INFO:     127.0.0.1:59854 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753046433 to 1755638433
2025-08-19 23:20:33,993 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:33,995 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:20:33,995 INFO sqlalchemy.engine.Engine [cached since 276.7s ago] ('unixepoch', 0, 1753046433, 1755638433, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 276.7s ago] ('unixepoch', 0, 1753046433, 1755638433, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:20:34,002 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 63, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 315, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 174, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'period', 'days'), 'msg': 'Input should be a valid string', 'input': 31}

INFO:     127.0.0.1:59857 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:59867 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59876 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 23:20:40,967 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:40,967 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 23:20:40,967 INFO sqlalchemy.engine.Engine [cached since 439.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 439.6s ago] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 23:20:40,969 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 23:20:40,970 INFO sqlalchemy.engine.Engine [cached since 439.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 439.6s ago] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 23:20:40,970 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 23:20:40,971 INFO sqlalchemy.engine.Engine [cached since 439.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 439.6s ago] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 23:20:40,973 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:59875 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:59880 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 23:20:40,992 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:20:40,994 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 23:20:40,994 INFO sqlalchemy.engine.Engine [cached since 439.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 439.6s ago] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 23:20:40,996 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 23:20:40,996 INFO sqlalchemy.engine.Engine [cached since 439.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 439.6s ago] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 23:20:40,996 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 23:20:40,996 INFO sqlalchemy.engine.Engine [cached since 439.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 439.6s ago] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 23:20:41,001 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:59882 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:59891 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59900 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59911 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59921 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59935 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59940 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59939 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:59941 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59945 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59949 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59952 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:59953 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59956 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59964 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59967 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49804 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49814 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63390 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63400 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63410 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63413 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63414 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63416 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63424 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63425 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63428 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63427 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63435 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63438 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63442 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63445 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63448 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63456 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63457 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63460 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63463 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753046492 to 1755638492
2025-08-19 23:21:32,198 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:21:32,199 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:21:32,199 INFO sqlalchemy.engine.Engine [cached since 334.9s ago] ('unixepoch', 0, 1753046492, 1755638492, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 334.9s ago] ('unixepoch', 0, 1753046492, 1755638492, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:21:32,207 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:21:32,209 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:21:32,209 INFO sqlalchemy.engine.Engine [cached since 336.8s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 336.8s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:21:32,217 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:21:32,218 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:21:32,218 INFO sqlalchemy.engine.Engine [cached since 336s ago] (0, 'approved', 1753046492, 1755638492, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 336s ago] (0, 'approved', 1753046492, 1755638492, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 23:21:32,226 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:21:32,226 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:21:32,228 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
ERROR:smartlinks:Unhandled exception occurred
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 157, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\anyio\streams\memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\router.py", line 63, in catch_exceptions_middleware
    return await call_next(request)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 163, in call_next
    raise app_exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\base.py", line 149, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 715, in __call__
    await self.middleware_stack(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 735, in app
    await route.handle(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 62, in wrapped_app
    raise exc
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\_exception_handler.py", line 51, in wrapped_app
    await app(scope, receive, sender)
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 315, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\fastapi\routing.py", line 174, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'period', 'days'), 'msg': 'Input should be a valid string', 'input': 31}

INFO:     127.0.0.1:63473 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:63474 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63475 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63479 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63486 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63488 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63493 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63494 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63501 - "POST /api/ai/dg HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63505 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53039 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53040 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53048 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53055 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53059 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53058 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53061 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53070 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53078 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53079 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53086 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53092 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53095 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53098 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53106 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53113 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53115 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53124 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53130 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53134 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53136 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53143 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51444 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51447 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51455 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51472 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51477 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51479 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51488 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51494 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51497 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51506 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51513 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51518 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51519 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51527 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51532 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51535 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51543 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51549 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51552 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51555 - "GET /api/stats HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'src\soft\dg\api\endpoints\ia_supervisor.py'. Reloading...
INFO:     127.0.0.1:51565 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51572 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51575 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51582 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51588 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51591 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51594 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51635 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51639 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:51641 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:51644 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [18316]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [18412]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
WARNING:  WatchFiles detected changes in 'src\soft\api\analytics_router.py'. Reloading...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [18412]
WARNING:  WatchFiles detected changes in 'src\soft\router.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [2124]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health  # Basic health check endpoint.
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [5352]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health  # Basic health check endpoint.
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:55622 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55625 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55628 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55631 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64475 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64480 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64482 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64486 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64490 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64492 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64495 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64499 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64501 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64514 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64522 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64523 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64535 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64538 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64545 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64550 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64553 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64554 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64556 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64560 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64563 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64565 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64575 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64584 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64586 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64596 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64599 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64605 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64609 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64610 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64613 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64618 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64621 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64622 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64625 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64634 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64642 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64643 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64651 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64657 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64660 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64663 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64671 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64678 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64679 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64686 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64692 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64696 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64698 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64707 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64713 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64715 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64729 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64734 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64736 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64739 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64758 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64780 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:54303 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:54306 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:54309 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:54312 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62858 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62861 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:62864 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:62867 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63053 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63055 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63054 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63056 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63057 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63075 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63078 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63085 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63086 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63088 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63087 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63093 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63094 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63097 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63098 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63107 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63111 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63114 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63118 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63120 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63126 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63129 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63134 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:63137 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63141 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63153 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63155 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63154 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63156 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63164 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63171 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63172 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63181 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63191 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63193 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63192 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63194 - "GET /api/stats HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753046939 to 1755638939
2025-08-19 23:28:59,550 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:28:59,581 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:28:59,581 INFO sqlalchemy.engine.Engine [generated in 0.00062s] ('unixepoch', 0, 1753046939, 1755638939, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[generated in 0.00062s] ('unixepoch', 0, 1753046939, 1755638939, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:28:59,607 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:28:59,614 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:28:59,618 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:28:59,618 INFO sqlalchemy.engine.Engine [generated in 0.00041s] (0, 'approved', 1753046939, 1755638939, 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00041s] (0, 'approved', 1753046939, 1755638939, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:28:59,622 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:28:59,731 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:28:59,731 INFO sqlalchemy.engine.Engine [generated in 0.00031s] (0,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00031s] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:     127.0.0.1:63198 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
2025-08-19 23:28:59,731 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:28:59,731 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63203 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63201 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753046939 to 1755638939
2025-08-19 23:28:59,773 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:28:59,787 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:28:59,787 INFO sqlalchemy.engine.Engine [cached since 0.2068s ago] ('unixepoch', 0, 1753046939, 1755638939, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 0.2068s ago] ('unixepoch', 0, 1753046939, 1755638939, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:28:59,800 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63207 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:28:59,811 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:28:59,812 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:28:59,814 INFO sqlalchemy.engine.Engine [cached since 0.08034s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 0.08034s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:28:59,824 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:28:59,826 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:28:59,826 INFO sqlalchemy.engine.Engine [cached since 0.2075s ago] (0, 'approved', 1753046939, 1755638939, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.2075s ago] (0, 'approved', 1753046939, 1755638939, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 23:28:59,838 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:28:59,839 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63211 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63213 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63222 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53670 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53674 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53677 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53686 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753046953 to 1755638953
2025-08-19 23:29:13,007 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:29:13,009 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:29:13,009 INFO sqlalchemy.engine.Engine [cached since 13.43s ago] ('unixepoch', 0, 1753046953, 1755638953, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 13.43s ago] ('unixepoch', 0, 1753046953, 1755638953, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:29:13,017 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53689 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753046953 to 1755638953
2025-08-19 23:29:13,033 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:29:13,034 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:29:13,036 INFO sqlalchemy.engine.Engine [cached since 13.46s ago] ('unixepoch', 0, 1753046953, 1755638953, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 13.46s ago] ('unixepoch', 0, 1753046953, 1755638953, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:29:13,049 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53692 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53705 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53711 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 23:29:18,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:29:18,603 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 23:29:18,603 INFO sqlalchemy.engine.Engine [generated in 0.00051s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00051s] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 23:29:18,606 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 23:29:18,606 INFO sqlalchemy.engine.Engine [generated in 0.00027s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00027s] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 23:29:18,606 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 23:29:18,608 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00021s] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 23:29:18,609 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53710 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:53714 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 23:29:18,626 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:29:18,626 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 23:29:18,626 INFO sqlalchemy.engine.Engine [cached since 0.02323s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.02323s ago] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 23:29:18,627 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 23:29:18,627 INFO sqlalchemy.engine.Engine [cached since 0.02134s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.02134s ago] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 23:29:18,628 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 23:29:18,628 INFO sqlalchemy.engine.Engine [cached since 0.02067s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.02067s ago] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 23:29:18,628 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:53717 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:53728 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53732 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53733 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53734 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53740 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53743 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53744 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53746 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53751 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53762 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53763 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53768 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53773 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:53776 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53781 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:53784 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53795 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53794 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53796 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53797 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53800 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:53803 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53810 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53819 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53820 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53826 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53834 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53837 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53840 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53846 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53854 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53856 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53864 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53872 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53874 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53877 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53883 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53891 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53893 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53899 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53906 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53910 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53912 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53919 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53928 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53929 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56347 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56355 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56359 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56361 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56366 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56375 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56377 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56381 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56385 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56397 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56396 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56398 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56404 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56414 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56415 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56421 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56424 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56433 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56437 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56436 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56443 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56453 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56454 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56460 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56465 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56471 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56478 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56479 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56490 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56498 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56500 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56506 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:56509 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753047049 to 1755639049
2025-08-19 23:30:49,261 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:30:49,262 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:30:49,262 INFO sqlalchemy.engine.Engine [cached since 109.7s ago] ('unixepoch', 0, 1753047049, 1755639049, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 109.7s ago] ('unixepoch', 0, 1753047049, 1755639049, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:30:49,269 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:30:49,373 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:30:49,374 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:30:49,374 INFO sqlalchemy.engine.Engine [cached since 109.8s ago] (0, 'approved', 1753047049, 1755639049, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 109.8s ago] (0, 'approved', 1753047049, 1755639049, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:30:49,432 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:30:49,433 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:30:49,433 INFO sqlalchemy.engine.Engine [cached since 109.7s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 109.7s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:     127.0.0.1:56516 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
2025-08-19 23:30:49,446 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:30:49,447 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:56520 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56519 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753047049 to 1755639049
2025-08-19 23:30:49,704 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:30:49,705 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:30:49,706 INFO sqlalchemy.engine.Engine [cached since 110.1s ago] ('unixepoch', 0, 1753047049, 1755639049, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 110.1s ago] ('unixepoch', 0, 1753047049, 1755639049, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:30:49,713 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:56526 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:30:49,757 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:30:49,759 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:30:49,759 INFO sqlalchemy.engine.Engine [cached since 110.1s ago] (0, 'approved', 1753047049, 1755639049, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 110.1s ago] (0, 'approved', 1753047049, 1755639049, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 23:30:49,768 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:56528 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:30:49,878 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:30:49,879 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:30:49,879 INFO sqlalchemy.engine.Engine [cached since 110.1s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 110.1s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 23:30:49,884 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:56530 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56538 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56549 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56567 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52773 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52784 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52798 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52808 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52824 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52835 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52845 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52855 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52868 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52880 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52890 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:52905 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64720 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64730 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64742 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64750 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64758 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 23:32:23,909 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:32:23,909 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 23:32:23,909 INFO sqlalchemy.engine.Engine [cached since 185.3s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 185.3s ago] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 23:32:23,911 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 23:32:23,911 INFO sqlalchemy.engine.Engine [cached since 185.3s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 185.3s ago] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 23:32:23,913 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 23:32:23,913 INFO sqlalchemy.engine.Engine [cached since 185.3s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 185.3s ago] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 23:32:23,915 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64757 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:64761 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-19 23:32:23,937 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:32:23,937 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-19 23:32:23,938 INFO sqlalchemy.engine.Engine [cached since 185.3s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 185.3s ago] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-19 23:32:23,940 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-19 23:32:23,941 INFO sqlalchemy.engine.Engine [cached since 185.3s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 185.3s ago] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-19 23:32:23,942 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-19 23:32:23,942 INFO sqlalchemy.engine.Engine [cached since 185.3s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 185.3s ago] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-19 23:32:23,944 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64765 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:64774 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753047152 to 1755639152
2025-08-19 23:32:32,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:32:32,117 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:32:32,117 INFO sqlalchemy.engine.Engine [cached since 212.5s ago] ('unixepoch', 0, 1753047152, 1755639152, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 212.5s ago] ('unixepoch', 0, 1753047152, 1755639152, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:32:32,128 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64782 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753047152 to 1755639152
2025-08-19 23:32:32,262 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:32:32,262 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:32:32,262 INFO sqlalchemy.engine.Engine [cached since 212.7s ago] ('unixepoch', 0, 1753047152, 1755639152, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 212.7s ago] ('unixepoch', 0, 1753047152, 1755639152, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:32:32,278 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64786 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64790 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64800 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64810 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64815 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64818 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64827 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64838 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753047177 to 1755639177
2025-08-19 23:32:57,173 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:32:57,174 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:32:57,174 INFO sqlalchemy.engine.Engine [cached since 237.6s ago] ('unixepoch', 0, 1753047177, 1755639177, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 237.6s ago] ('unixepoch', 0, 1753047177, 1755639177, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:32:57,178 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:32:57,181 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:32:57,182 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:32:57,182 INFO sqlalchemy.engine.Engine [cached since 237.6s ago] (0, 'approved', 1753047177, 1755639177, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 237.6s ago] (0, 'approved', 1753047177, 1755639177, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:     127.0.0.1:64849 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:32:57,191 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:32:57,192 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:32:57,192 INFO sqlalchemy.engine.Engine [cached since 237.5s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 237.5s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 23:32:57,195 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:32:57,195 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64853 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64852 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753047177 to 1755639177
2025-08-19 23:32:57,243 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:32:57,244 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:32:57,245 INFO sqlalchemy.engine.Engine [cached since 237.7s ago] ('unixepoch', 0, 1753047177, 1755639177, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 237.7s ago] ('unixepoch', 0, 1753047177, 1755639177, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-19 23:32:57,253 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:32:57,255 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:32:57,257 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:32:57,257 INFO sqlalchemy.engine.Engine [cached since 237.6s ago] (0, 'approved', 1753047177, 1755639177, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 237.6s ago] (0, 'approved', 1753047177, 1755639177, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:32:57,262 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:32:57,262 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:32:57,262 INFO sqlalchemy.engine.Engine [cached since 237.5s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 237.5s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-19 23:32:57,264 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64858 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
2025-08-19 23:32:57,267 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64860 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64862 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64867 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64877 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64886 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64887 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64888 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64889 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64897 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64898 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64900 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64901 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64908 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:64911 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64915 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:64918 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64923 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:64926 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64930 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64935 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64936 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64948 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64950 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64955 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64956 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64967 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64971 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64973 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64983 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64987 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64989 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64992 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65003 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65006 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65009 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65020 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65023 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65025 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65028 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65039 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65043 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65044 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60818 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60820 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60824 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60826 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60838 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60840 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60843 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60854 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60857 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60859 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60862 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60873 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60877 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60878 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60889 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60891 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:60894 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60897 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:60450 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:60453 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:60456 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53189 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53192 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53196 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:53198 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49422 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:49425 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:49428 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:49431 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57561 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57565 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57567 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57570 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59198 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59201 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:59204 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:59207 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56700 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56704 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56706 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56709 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56289 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56294 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56295 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56298 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57367 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57370 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57373 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57376 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63432 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:63433 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63437 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:63438 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:63439 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63448 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63458 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63470 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55417 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55426 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55436 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55438 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55437 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55439 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55445 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55448 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55449 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:55451 - "GET /api/stats HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753047714 to 1755639714
2025-08-19 23:41:54,820 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:41:54,821 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-19 23:41:54,822 INFO sqlalchemy.engine.Engine [cached since 775.2s ago] ('unixepoch', 0, 1753047714, 1755639714, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 775.2s ago] ('unixepoch', 0, 1753047714, 1755639714, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-19 23:41:54,832 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:41:54,833 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-19 23:41:54,833 INFO sqlalchemy.engine.Engine [cached since 775.1s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 775.1s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-19 23:41:54,840 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-19 23:41:54,840 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-19 23:41:54,840 INFO sqlalchemy.engine.Engine [cached since 775.2s ago] (0, 'approved', 1753047714, 1755639714, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 775.2s ago] (0, 'approved', 1753047714, 1755639714, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-19 23:41:54,846 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:41:54,846 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-19 23:41:54,847 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:55460 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55461 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55462 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55469 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55474 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55476 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55486 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55493 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55497 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55498 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55499 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64836 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64840 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64841 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56514 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56516 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56519 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56522 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56532 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56535 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56538 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56548 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56551 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56554 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56557 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56570 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56572 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56575 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56587 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56590 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56592 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56595 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56607 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56609 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56612 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56622 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56625 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:56630 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56631 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:56642 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56645 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:56648 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57272 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57275 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57280 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57281 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57292 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57294 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57297 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57309 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57312 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57314 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57316 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65245 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:65247 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65250 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:65253 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61106 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61111 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61112 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61115 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:57180 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57183 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57186 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:57189 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64204 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64207 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64210 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64213 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50422 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50425 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50428 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:53509 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55002 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55005 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55008 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55011 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:55064 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55067 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:55070 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:55073 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'src\soft\dg\ai\supervisor.py'. Reloading...
INFO:     127.0.0.1:61679 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61681 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61690 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61689 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61691 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61692 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61700 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61701 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61702 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61704 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50069 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:50072 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50076 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50082 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50083 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50087 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:50090 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50095 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:50098 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50103 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50111 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50112 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:50115 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50116 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50123 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50130 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:50131 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:50140 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50148 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50156 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50169 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50177 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50188 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50201 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50211 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50225 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55241 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55249 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55259 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55269 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55277 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55326 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55178 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53010 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53022 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53024 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53037 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58243 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58254 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58267 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58276 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58285 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58296 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:58306 - "GET /api/health HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [5352]
WARNING:  WatchFiles detected changes in 'test_endpoints.py', 'diagnose_ia.py', 'fix_ia_service.py', 'quick_ia_test.py', 'src\soft\dg\api\endpoints\ia_supervisor.py', 'test_ia_direct.py', 'src\soft\api\analytics_router.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [10616]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/health  # IA health check endpoint for diagnostics.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health  # Basic health check endpoint.
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [18240]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/health  # IA health check endpoint for diagnostics.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health  # Basic health check endpoint.
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:64283 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61144 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61146 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61153 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61162 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61179 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61187 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61188 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61189 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61190 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61195 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61196 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61200 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61199 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61205 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:61208 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61212 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:61215 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61222 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61224 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:61227 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61233 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61235 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61244 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61251 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61256 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61255 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61257 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61266 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753049259 to 1755641259
2025-08-20 00:07:39,463 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:07:39,485 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:07:39,485 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ('unixepoch', 0, 1753049259, 1755641259, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[generated in 0.00042s] ('unixepoch', 0, 1753049259, 1755641259, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-20 00:07:39,489 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-20 00:07:39,496 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:07:39,498 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-20 00:07:39,498 INFO sqlalchemy.engine.Engine [generated in 0.00029s] (0,)
INFO:sqlalchemy.engine.Engine:[generated in 0.00029s] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-20 00:07:39,498 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:07:39,503 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-20 00:07:39,503 INFO sqlalchemy.engine.Engine [generated in 0.00030s] (0, 'approved', 1753049259, 1755641259, 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00030s] (0, 'approved', 1753049259, 1755641259, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:     127.0.0.1:61270 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
2025-08-20 00:07:39,508 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-20 00:07:39,508 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61276 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61275 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753049259 to 1755641259
2025-08-20 00:07:39,525 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:07:39,525 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:07:39,525 INFO sqlalchemy.engine.Engine [cached since 0.04313s ago] ('unixepoch', 0, 1753049259, 1755641259, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 0.04313s ago] ('unixepoch', 0, 1753049259, 1755641259, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-20 00:07:39,534 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61280 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-20 00:07:39,555 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:07:39,557 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-20 00:07:39,558 INFO sqlalchemy.engine.Engine [cached since 0.05337s ago] (0, 'approved', 1753049259, 1755641259, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 0.05337s ago] (0, 'approved', 1753049259, 1755641259, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-20 00:07:39,566 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:07:39,567 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-20 00:07:39,567 INFO sqlalchemy.engine.Engine [cached since 0.06916s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 0.06916s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-20 00:07:39,571 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-20 00:07:39,571 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61284 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61285 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61295 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61302 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61305 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61311 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61319 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61327 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61334 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753049285 to 1755641285
2025-08-20 00:08:05,844 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:08:05,845 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:08:05,847 INFO sqlalchemy.engine.Engine [cached since 26.36s ago] ('unixepoch', 0, 1753049285, 1755641285, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 26.36s ago] ('unixepoch', 0, 1753049285, 1755641285, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-20 00:08:05,857 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61341 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753049285 to 1755641285
2025-08-20 00:08:05,873 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:08:05,874 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:08:05,874 INFO sqlalchemy.engine.Engine [cached since 26.39s ago] ('unixepoch', 0, 1753049285, 1755641285, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 26.39s ago] ('unixepoch', 0, 1753049285, 1755641285, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-20 00:08:05,882 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61344 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61352 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-20 00:08:08,161 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:08:08,164 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-20 00:08:08,164 INFO sqlalchemy.engine.Engine [generated in 0.00036s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00036s] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-20 00:08:08,168 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-20 00:08:08,168 INFO sqlalchemy.engine.Engine [generated in 0.00036s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00036s] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-20 00:08:08,169 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-20 00:08:08,169 INFO sqlalchemy.engine.Engine [generated in 0.00022s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00022s] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-20 00:08:08,171 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61351 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:61355 - "GET /api/services/status HTTP/1.1" 200 OK
INFO:src.soft.api.settings_router:get_settings called
2025-08-20 00:08:08,185 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:08:08,185 INFO sqlalchemy.engine.Engine SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
INFO:sqlalchemy.engine.Engine:SELECT offers.offer_id AS offers_offer_id, offers.name AS offers_name, offers.url AS offers_url, offers.incent_ok AS offers_incent_ok, offers.cap_day AS offers_cap_day, offers.geo_allow AS offers_geo_allow, offers.status AS offers_status 
FROM offers
2025-08-20 00:08:08,185 INFO sqlalchemy.engine.Engine [cached since 0.02119s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.02119s ago] ()
INFO:src.soft.api.settings_router:Found 3 offers in database
2025-08-20 00:08:08,185 INFO sqlalchemy.engine.Engine SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
INFO:sqlalchemy.engine.Engine:SELECT creators.creator_id AS creators_creator_id, creators.q AS creators_q, creators.hard_cap_eur AS creators_hard_cap_eur, creators.last_seen AS creators_last_seen 
FROM creators
2025-08-20 00:08:08,187 INFO sqlalchemy.engine.Engine [cached since 0.01924s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.01924s ago] ()
INFO:src.soft.api.settings_router:Found 0 creators in database
2025-08-20 00:08:08,187 INFO sqlalchemy.engine.Engine SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
INFO:sqlalchemy.engine.Engine:SELECT segments.segment_id AS segments_segment_id, segments.geo AS segments_geo, segments.device AS segments_device 
FROM segments
2025-08-20 00:08:08,187 INFO sqlalchemy.engine.Engine [cached since 0.01829s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.01829s ago] ()
INFO:src.soft.api.settings_router:Found 2 segments in database
2025-08-20 00:08:08,187 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61358 - "GET /api/settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:61361 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61369 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753049296 to 1755641296
2025-08-20 00:08:16,918 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:08:16,921 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:08:16,921 INFO sqlalchemy.engine.Engine [cached since 37.44s ago] ('unixepoch', 0, 1753049296, 1755641296, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 37.44s ago] ('unixepoch', 0, 1753049296, 1755641296, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-20 00:08:16,929 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61376 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-20 00:08:16,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:08:16,940 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-20 00:08:16,940 INFO sqlalchemy.engine.Engine [cached since 37.44s ago] (0, 'approved', 1753049296, 1755641296, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 37.44s ago] (0, 'approved', 1753049296, 1755641296, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-20 00:08:16,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:08:16,945 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-20 00:08:16,945 INFO sqlalchemy.engine.Engine [cached since 37.45s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 37.45s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-20 00:08:16,948 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-20 00:08:16,948 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61382 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753049296 to 1755641296
2025-08-20 00:08:16,954 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:08:16,956 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:08:16,956 INFO sqlalchemy.engine.Engine [cached since 37.47s ago] ('unixepoch', 0, 1753049296, 1755641296, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 37.47s ago] ('unixepoch', 0, 1753049296, 1755641296, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
INFO:     127.0.0.1:61381 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
2025-08-20 00:08:16,962 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61385 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-20 00:08:16,978 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:08:16,978 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-20 00:08:16,980 INFO sqlalchemy.engine.Engine [cached since 37.48s ago] (0, 'approved', 1753049296, 1755641296, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 37.48s ago] (0, 'approved', 1753049296, 1755641296, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-20 00:08:16,987 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-20 00:08:16,988 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:08:16,989 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-20 00:08:16,989 INFO sqlalchemy.engine.Engine [cached since 37.49s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 37.49s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
INFO:     127.0.0.1:61389 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
2025-08-20 00:08:16,992 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61391 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61397 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61404 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61408 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61409 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61410 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61416 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61419 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:61420 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61422 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61429 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61435 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:61437 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:61445 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61454 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61463 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61471 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61479 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61487 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61495 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61503 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61513 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61522 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61533 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61543 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:53746 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64303 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64313 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64317 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64319 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64318 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64327 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64328 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64330 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64331 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64337 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64344 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64345 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64348 - "POST /api/services/router/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:64352 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64357 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64362 - "POST /api/services/autopilot/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:64365 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64377 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64375 - "GET /api/clicks/recent?limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64376 - "GET /api/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64378 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64382 - "POST /api/services/probes/start HTTP/1.1" 200 OK
INFO:     127.0.0.1:64385 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64389 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64397 - "GET /api/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64398 - "GET /api/stats HTTP/1.1" 200 OK
INFO:     127.0.0.1:64403 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753049444 to 1755641444
2025-08-20 00:10:44,148 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:10:44,149 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:10:44,150 INFO sqlalchemy.engine.Engine [cached since 184.7s ago] ('unixepoch', 0, 1753049444, 1755641444, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 184.7s ago] ('unixepoch', 0, 1753049444, 1755641444, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-20 00:10:44,155 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64409 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-20 00:10:44,160 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:10:44,161 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-20 00:10:44,162 INFO sqlalchemy.engine.Engine [cached since 184.7s ago] (0, 'approved', 1753049444, 1755641444, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 184.7s ago] (0, 'approved', 1753049444, 1755641444, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-20 00:10:44,167 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:10:44,167 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-20 00:10:44,167 INFO sqlalchemy.engine.Engine [cached since 184.7s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 184.7s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-20 00:10:44,170 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-08-20 00:10:44,170 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753049444 to 1755641444
2025-08-20 00:10:44,174 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:10:44,174 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:10:44,174 INFO sqlalchemy.engine.Engine [cached since 184.7s ago] ('unixepoch', 0, 1753049444, 1755641444, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 184.7s ago] ('unixepoch', 0, 1753049444, 1755641444, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
INFO:     127.0.0.1:64413 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64412 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
2025-08-20 00:10:44,181 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64416 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_countries_analytics called with days=30, limit=10
2025-08-20 00:10:44,199 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:10:44,200 INFO sqlalchemy.engine.Engine SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT clicks.geo AS country, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id AND conversions.status = ? 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY clicks.geo ORDER BY count(clicks.click_id) DESC
 LIMIT ? OFFSET ?
2025-08-20 00:10:44,200 INFO sqlalchemy.engine.Engine [cached since 184.7s ago] (0, 'approved', 1753049444, 1755641444, 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 184.7s ago] (0, 'approved', 1753049444, 1755641444, 10, 0)
INFO:src.soft.api.analytics_router:Country stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning country stats: 1 countries
2025-08-20 00:10:44,205 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:src.soft.api.analytics_router:get_device_stats called with segment_id=None, start_date=None, end_date=None
2025-08-20 00:10:44,206 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:10:44,206 INFO sqlalchemy.engine.Engine SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
INFO:sqlalchemy.engine.Engine:SELECT clicks.device AS clicks_device, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id GROUP BY clicks.device
2025-08-20 00:10:44,208 INFO sqlalchemy.engine.Engine [cached since 184.7s ago] (0,)
INFO:sqlalchemy.engine.Engine:[cached since 184.7s ago] (0,)
INFO:src.soft.api.analytics_router:Device stats query returned 1 results
INFO:src.soft.api.analytics_router:Returning device stats: 1 devices, 1816 total clicks
2025-08-20 00:10:44,211 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64420 - "GET /api/analytics/countries?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64422 - "GET /api/analytics/devices?days=30&limit=10 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64428 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64431 - "GET /api/clicks/recent?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64435 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753049448 to 1755641448
2025-08-20 00:10:48,739 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:10:48,741 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:10:48,741 INFO sqlalchemy.engine.Engine [cached since 189.3s ago] ('unixepoch', 0, 1753049448, 1755641448, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 189.3s ago] ('unixepoch', 0, 1753049448, 1755641448, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-20 00:10:48,746 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64439 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=30, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1753049448 to 1755641448
2025-08-20 00:10:48,759 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:10:48,760 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:10:48,761 INFO sqlalchemy.engine.Engine [cached since 189.3s ago] ('unixepoch', 0, 1753049448, 1755641448, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 189.3s ago] ('unixepoch', 0, 1753049448, 1755641448, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 31 days, 1816 total clicks
2025-08-20 00:10:48,769 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64442 - "GET /api/analytics/clicks/history?days=30 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64449 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=7, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1755036654 to 1755641454
2025-08-20 00:10:54,254 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:10:54,254 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:10:54,256 INFO sqlalchemy.engine.Engine [cached since 194.8s ago] ('unixepoch', 0, 1755036654, 1755641454, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 194.8s ago] ('unixepoch', 0, 1755036654, 1755641454, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 8 days, 1816 total clicks
2025-08-20 00:10:54,262 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64453 - "GET /api/analytics/clicks/history?days=7 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64460 - "GET /api/health HTTP/1.1" 200 OK
INFO:src.soft.api.analytics_router:get_click_history called with days=7, segment_id=None, device=None, country=None
INFO:src.soft.api.analytics_router:Timestamp range: 1755036659 to 1755641459
2025-08-20 00:10:59,225 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-08-20 00:10:59,228 INFO sqlalchemy.engine.Engine SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
INFO:sqlalchemy.engine.Engine:SELECT date(datetime(clicks.ts, ?)) AS date, count(clicks.click_id) AS clicks, count(conversions.id) AS conversions, coalesce(sum(conversions.revenue), ?) AS revenue 
FROM clicks LEFT OUTER JOIN conversions ON clicks.click_id = conversions.click_id 
WHERE clicks.ts >= ? AND clicks.ts <= ? GROUP BY date(datetime(clicks.ts, ?)) ORDER BY date(datetime(clicks.ts, ?))
2025-08-20 00:10:59,228 INFO sqlalchemy.engine.Engine [cached since 199.7s ago] ('unixepoch', 0, 1755036659, 1755641459, 'unixepoch', 'unixepoch')
INFO:sqlalchemy.engine.Engine:[cached since 199.7s ago] ('unixepoch', 0, 1755036659, 1755641459, 'unixepoch', 'unixepoch')
INFO:src.soft.api.analytics_router:Click history query returned 1 results
INFO:src.soft.api.analytics_router:Returning click history: 8 days, 1816 total clicks
2025-08-20 00:10:59,232 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64464 - "GET /api/analytics/clicks/history?days=7 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64472 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62366 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62374 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62383 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62391 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62402 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62410 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62418 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62426 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62435 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62443 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62451 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:59149 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62737 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62745 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62754 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62762 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62772 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61134 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61142 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61149 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:55633 - "GET /api/health HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'test_fastapi.py', 'test_endpoints.py', 'test_backend_final.py', 'test_output.py', 'test_openai_simple.py', 'test_schema_alignment.py', 'test_backend_fixes.py', 'test_fastapi_minimal.py', 'test_analytics_endpoint.py', 'test_backend_simple.py', 'test_filesystem.py', 'test_all_endpoints.py', 'test_backend_connection.py', 'test_ai_simple.py', 'test_final_alignment.py', 'test_openai_import.py', 'test_imports.py', 'test_minimal.py', 'test_python.py', 'test_empty_database.py', 'test_pydantic.py', 'test_app_integration.py', 'test_ia_direct.py', 'test_backend_status.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [18240]
WARNING:  WatchFiles detected changes in 'check_health.py', 'check_python_env.py', 'check_env.py'. Reloading...
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [11284]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/health  # IA health check endpoint for diagnostics.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health  # Basic health check endpoint.
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
ERROR:    Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "c:\smartlinks-autopilot\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [15892]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/health  # IA health check endpoint for diagnostics.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health  # Basic health check endpoint.
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'fix_all_issues.py', 'debug_test.py', 'diagnose_ia.py', 'debug_sqlalchemy.py', 'fix_ia_service.py', 'direct_test.py', 'debug_imports.py', 'debug_db_connection.py', 'debug_404_error.py', 'force_data_generation.py', 'full_diagnostic.py', 'generate_data.py', 'debug_imports_detailed.py', 'debug_postgres_import.py', 'fix_openai.py', 'debug_server.py', 'fix_analytics.py', 'debug_analytics.py', 'debug_api_responses.py', 'fix_imports.py', 'debug_analytics_error.py'. Reloading...
INFO:     127.0.0.1:59105 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:64286 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62607 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:56604 - "GET /api/health HTTP/1.1" 200 OK
INFO:     127.0.0.1:62584 - "GET /api/health HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [15892]
INFO:src.soft.dg.ai.openai_factory:Configuration OpenAI: model=gpt-4-turbo, base_url=None
INFO:src.soft.dg.api.endpoints.ia_supervisor_v2:Endpoints IA Supervisor v2 enregistrés sur /api/ia
INFO:     Started server process [304]
INFO:     Waiting for application startup.
INFO:src.soft.dg.dependencies:Initializing IASupervisor...
INFO:src.soft.dg.ai.supervisor:Registered algorithm: None
INFO:src.soft.dg.ai.supervisor:Registered algorithm: composite_algorithm
INFO:src.soft.dg.ai.supervisor:Registered algorithm: api_debugger
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: predictive_alerting
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
INFO:src.soft.dg.ai.supervisor:Registered algorithm: report_generator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Registered algorithm: anomaly_detector
INFO:src.soft.dg.ai.supervisor:Registered algorithm: ban_prediction
INFO:src.soft.dg.ai.supervisor:Registered algorithm: budget_arbitrage
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_optimizer
ERROR:src.soft.dg.ai.supervisor:Error processing module src.soft.dg.algorithms.maintenance.self_healing: '(' was never closed (self_healing.py, line 430)
Traceback (most recent call last):
  File "c:\smartlinks-autopilot\src\soft\dg\ai\supervisor.py", line 108, in load_algorithms_from_path
    module = importlib.import_module(module_path)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ia-solution\AppData\Local\Programs\Python\Python311\Lib\importlib\__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 936, in exec_module
  File "<frozen importlib._bootstrap_external>", line 1074, in get_code
  File "<frozen importlib._bootstrap_external>", line 1004, in source_to_code
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "c:\smartlinks-autopilot\src\soft\dg\algorithms\maintenance\self_healing.py", line 430
    actions.append(Action(
                  ^
SyntaxError: '(' was never closed
INFO:src.soft.dg.ai.supervisor:Registered algorithm: traffic_simulator
INFO:src.soft.dg.ai.supervisor:Initialized AI Supervisor with 10 algorithms
INFO:src.soft.dg.dependencies:IASupervisor initialized successfully
INFO:smartlinks:IASupervisor initialized on startup
INFO:smartlinks:
=== Available Routes ===
INFO:smartlinks:POST   /admin/admin/db/flush
INFO:smartlinks:POST   /admin/admin/flush
INFO:smartlinks:GET    /admin/admin/health
INFO:smartlinks:GET    /admin/admin/metrics
INFO:smartlinks:POST   /admin/admin/payout
INFO:smartlinks:POST   /admin/admin/payouts
INFO:smartlinks:POST   /admin/admin/seed
INFO:smartlinks:GET    /admin/admin/service/{name}/logs
INFO:smartlinks:POST   /admin/admin/service/{name}/start
INFO:smartlinks:POST   /admin/admin/service/{name}/stop
INFO:smartlinks:GET    /admin/admin/stats
INFO:smartlinks:GET    /admin/admin/status  # Return current service states.
INFO:smartlinks:GET    /api/analytics/clicks/history
INFO:smartlinks:GET    /api/analytics/config
INFO:smartlinks:GET    /api/analytics/countries
INFO:smartlinks:GET    /api/analytics/devices
INFO:smartlinks:GET    /api/analytics/health
INFO:smartlinks:GET    /api/analytics/schema
INFO:smartlinks:GET    /api/analytics/traffic-by-segment
INFO:smartlinks:POST   /api/assistant/ask
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:GET    /api/clicks/recent
INFO:smartlinks:POST   /api/creators
INFO:smartlinks:GET    /api/creators
INFO:smartlinks:POST   /api/creators/init
INFO:smartlinks:GET    /api/creators/{creator_id}
INFO:smartlinks:DELETE /api/creators/{creator_id}
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:GET    /api/dg
INFO:smartlinks:POST   /api/dg
INFO:smartlinks:POST   /api/discovery
INFO:smartlinks:GET    /api/health
INFO:smartlinks:GET    /api/ia/algorithms  # List all available algorithms.
INFO:smartlinks:GET    /api/ia/analyze  # Perform a comprehensive analysis of the system state.
INFO:smartlinks:POST   /api/ia/ask  # Ask a question or instruction to the AI Supervisor.
INFO:smartlinks:POST   /api/ia/fix  # Automatically fix detected issues based on the current system state.
INFO:smartlinks:GET    /api/ia/health  # IA health check endpoint for diagnostics.
INFO:smartlinks:GET    /api/ia/logs  # Get interaction logs from the AI Supervisor.
INFO:smartlinks:GET    /api/ia/status  # Get the current status of the AI Supervisor.
INFO:smartlinks:POST   /api/ia/switch-mode
INFO:smartlinks:GET    /api/metrics
INFO:smartlinks:GET    /api/routes
INFO:smartlinks:POST   /api/services/autopilot/start
INFO:smartlinks:POST   /api/services/autopilot/stop
INFO:smartlinks:POST   /api/services/probes/start
INFO:smartlinks:POST   /api/services/probes/stop
INFO:smartlinks:POST   /api/services/router/start
INFO:smartlinks:GET    /api/services/status
INFO:smartlinks:GET    /api/settings
INFO:smartlinks:GET    /api/settings/export
INFO:smartlinks:PUT    /api/settings/general
INFO:smartlinks:GET    /api/settings/health
INFO:smartlinks:PUT    /api/settings/offer/{offer_id}
INFO:smartlinks:GET    /api/stats
INFO:smartlinks:GET    /api/status  # Return system status levels suitable for dashboard indicators.
INFO:smartlinks:GET    /docs
INFO:smartlinks:GET    /docs/oauth2-redirect
INFO:smartlinks:GET    /health  # Basic health check endpoint.
INFO:smartlinks:GET    /health/health
INFO:smartlinks:GET    /openapi.json
INFO:smartlinks:GET    /redoc
INFO:smartlinks:
API Documentation: http://localhost:8000/docs
INFO:smartlinks:Health Check:     http://localhost:8000/api/health
INFO:smartlinks:==================================================

INFO:     Application startup complete.
INFO:     127.0.0.1:49728 - "GET /api/health HTTP/1.1" 200 OK
